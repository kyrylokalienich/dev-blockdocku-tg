window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AdsGram:[function(t,e,n){"use strict";cc._RF.push(e,"14199GtWxpA/7/ZpS8eL9oj","AdsGram");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AdsGramController=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,new Promise(function(t,e){if(cc.sys.platform===cc.sys.MOBILE_BROWSER||cc.sys.platform===cc.sys.DESKTOP_BROWSER){var n=document.createElement("script");n.src="https://sad.adsgram.ai/js/sad.min.js",n.async=!0,n.onload=function(){var e=setInterval(function(){window.Adsgram&&(t(window.Adsgram),clearInterval(e))},100)},n.onerror=function(){return e(new Error("Unable to load AdsGram SDK, please check logs."))},document.head.appendChild(n)}})),l=function(){function t(){this._adsGramJS=null,this.adController=null}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){return i(this,void 0,Promise,function(){var t;return r(this,function(e){switch(e.label){case 0:return t=this,[4,s];case 1:return t._adsGramJS=e.sent(),this._adsGramJS?[2,Promise.resolve({success:!0})]:[2,Promise.resolve({success:!1})]}})})},t.prototype.getAdsGram=function(){return this._adsGramJS},t.prototype.initAdsContorller=function(){var t=this.getAdsGram().init({blockId:"int-6303",debugBannerType:"FullscreenMedia"});this.adController=t},t.prototype.showFullscreenAd=function(){this.adController.show().then(function(){}).catch(function(){})},e=o([c("AdsGramController")],t)}();n.AdsGramController=l,cc._RF.pop()},{}],ApiClientFactory:[function(t,e,n){"use strict";cc._RF.push(e,"05329Pk20VB6Zc111FxrIEX","ApiClientFactory"),Object.defineProperty(n,"__esModule",{value:!0}),n.ApiClientFactory=void 0;var o=t("./ApiClient"),i=function(){function t(t,e){void 0===e&&(e={}),this.baseUrl=t,this.headers=e}return t.prototype.createClient=function(){return new o.ApiClient(this.baseUrl,this.headers)},t.prototype.createAuthorizedClient=function(t){return new o.ApiClient(this.baseUrl,this.headers,t)},t}();n.ApiClientFactory=i,cc._RF.pop()},{"./ApiClient":"ApiClient"}],ApiClient:[function(t,e,n){"use strict";cc._RF.push(e,"9ec11jSPh9Dka42IY7Eirk5","ApiClient");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApiClient=void 0;var r=t("../modules/axios"),a=t("./ApiErrors"),c=function(){function t(t,e,n){void 0===n&&(n=""),this.baseUrl=t,this.headers=e,this.authToken=n}return t.prototype.get=function(t,e){return void 0===t&&(t=""),o(this,void 0,Promise,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.createClient(e).get(t)];case 1:if((n=i.sent()).status>=200&&n.status<300)return[2,n.data];throw new Error("Unexpected response status: "+n.status+" data: "+n.data);case 2:return o=i.sent(),this.handleError(o),[3,3];case 3:return[2]}})})},t.prototype.post=function(t,e){return void 0===t&&(t=""),o(this,void 0,Promise,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.createClient().post(t,e)];case 1:if(n=i.sent(),console.log("post",n.status,n.data),n.status>=200&&n.status<300)return[2,n.data];throw new Error("Unexpected response status: "+n.status+" data: "+n.data);case 2:return o=i.sent(),this.handleError(o),[3,3];case 3:return[2]}})})},t.prototype.uploadFile=function(t,e){return void 0===t&&(t=""),o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.createClient().post(t,e,{headers:{"Content-Type":"multipart/form-data"}})];case 1:return[2,o.sent().data];case 2:return n=o.sent(),this.handleError(n),[3,3];case 3:return[2]}})})},t.prototype.createClient=function(t){void 0===t&&(t={});var e={baseURL:this.baseUrl,headers:this.headers,params:t};return this.authToken&&(e.headers={Authorization:"tma "+this.authToken,"ngrok-skip-browser-warning":"skip-browser-warning"}),r.default.create(e)},t.prototype.handleError=function(t){throw t.response?401===t.response.status?new a.Unauthorized(t.response.data):403===t.response.status?new a.Forbidden(t.response.data):t:new a.HttpError(t.message)},t}();n.ApiClient=c,cc._RF.pop()},{"../modules/axios":"axios","./ApiErrors":"ApiErrors"}],ApiErrors:[function(t,e,n){"use strict";cc._RF.push(e,"9442dOk32pJZYB3gOLibmpb","ApiErrors"),Object.defineProperty(n,"__esModule",{value:!0}),n.Forbidden=n.Unauthorized=n.HttpError=void 0;class o extends Error{constructor(t){super(t),this.name="HttpError"}}n.HttpError=o,n.Unauthorized=class extends o{constructor(t="Unauthorized"){super(t),this.name="Unauthorized"}},n.Forbidden=class extends o{constructor(t="Forbidden"){super(t),this.name="Forbidden"}},cc._RF.pop()},{}],ApiManager:[function(t,e,n){"use strict";cc._RF.push(e,"21288fHKN9M1aRhCes5yaFK","ApiManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.getData=function(t){return o(this,void 0,void 0,function(){var e,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(t)];case 1:if(!(e=i.sent()).ok)throw new Error("HTTP error! status: "+e.status);return[4,e.json()];case 2:return n=i.sent(),console.log("Data received:",n),[3,4];case 3:return o=i.sent(),console.error("Error fetching data:",o),[3,4];case 4:return[2]}})})},t.prototype.postData=function(t,e){return o(this,void 0,void 0,function(){var n,o,r;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if(!(n=i.sent()).ok)throw new Error("HTTP error! status: "+n.status);return[4,n.json()];case 2:return o=i.sent(),console.log("Data posted successfully:",o),[3,4];case 3:return r=i.sent(),console.error("Error posting data:",r),[3,4];case 4:return[2]}})})},t._instance=null,t}();n.default=r,cc._RF.pop()},{}],ApiTypes:[function(t,e,n){"use strict";cc._RF.push(e,"e6a4bVXstVF0q+qHZ9Oqfyg","ApiTypes"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"ec837HPHdhNmbkWqoAlSNAg","AudioManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../Enum"),a=t("./DataManager"),c=t("./ResourceManager"),s=function(){function t(){this.audioSource=null}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.audioSource=new cc.AudioSource,this.audioSource.loop=!0,this.audioSource.volume=.3},t.prototype.playMusic=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return a.default.instance.isMusicOn?this.audioSource.clip?(this.audioSource.play(),[2]):[4,c.default.instance.getClip(r.ENUM_AUDIO_CLIP.BGM)]:[2];case 1:return t=e.sent(),this.audioSource.clip=t,this.audioSource.play(),[2]}})})},t.prototype.stopMusic=function(){this.audioSource.stop()},t.prototype.playSound=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){switch(o.label){case 0:return a.default.instance.isSoundOn?[4,c.default.instance.getClip(t)]:[2];case 1:return n=o.sent(),[2,cc.audioEngine.playEffect(n,e)]}})})},t.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},t._instance=null,t}();n.default=s,cc._RF.pop()},{"./../Enum":"Enum","./DataManager":"DataManager","./ResourceManager":"ResourceManager"}],AuthController:[function(t,e,n){"use strict";cc._RF.push(e,"b5a7bxZXIdFZ5FY/AesIx5q","AuthController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UserController=void 0;var r=function(){function t(t){this.apiClient=t}return t.prototype.getUser=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("user")]})})},t.prototype.getTransactions=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("transactions")]})})},t.prototype.getTransactionById=function(t){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("transactions/"+t)]})})},t.prototype.postCoinsTransaction=function(t,e){return o(this,void 0,Promise,function(){var n;return i(this,function(){return n={amount_stars:t,commission:e,type:"ADD_COINS"},[2,this.apiClient.post("transactions",n)]})})},t.prototype.postBonusTransaction=function(t){return o(this,void 0,Promise,function(){var e;return i(this,function(){return e={type:t},[2,this.apiClient.post("transactions",e)]})})},t.prototype.getLeaderboard=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("games/leaderboard")]})})},t.prototype.getGames=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("games")]})})},t.prototype.postGameStart=function(){return o(this,void 0,Promise,function(){var t;return i(this,function(){return t={game_token:"string",timestamp:new Date},[2,this.apiClient.post("games/start",t)]})})},t.prototype.postGameFinish=function(t,e){return o(this,void 0,Promise,function(){var n;return i(this,function(){return n={points:t,game_token:e},[2,this.apiClient.post("games/finish",n)]})})},t.prototype.postInvoiceStars=function(t){return o(this,void 0,Promise,function(){var e;return i(this,function(){return e={amount:t},[2,this.apiClient.post("invoices/stars",e)]})})},t.prototype.postInvoicePremium=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.post("invoices/premium")]})})},t.Instance=null,t}();n.UserController=r,cc._RF.pop()},{}],AvatarLoader:[function(t,e,n){"use strict";cc._RF.push(e,"84eef/7so5Gs5q5vzRbnj/e","AvatarLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.loadAvatar=function(t,e){if(t){var n=e.getComponent(cc.Sprite);n?cc.assetManager.loadRemote(t,function(t,e){t?console.error("Failed to load avatar:",t):n.spriteFrame=new cc.SpriteFrame(e)}):console.error("Provided node does not have a Sprite component.")}else console.warn("No photo URL provided.")},t.createAvatarImage=function(t,e){var n=document.createElement("img");n.src=t,n.style.position="absolute",n.style.width="100px",n.style.height="100px",n.style.left="50px",n.style.top="50px",document.body.appendChild(n),e.once("destroy",function(){document.body.removeChild(n)})},t.loadTextureFromImage=function(t,e){var n=document.createElement("img");n.src=t,n.style.position="absolute",n.style.width="100px",n.style.height="100px",n.style.left="50px",n.style.top="50px",n.onload=function(){var t=new cc.Texture2D;t.initWithElement(n),t.handleLoadedTexture();var o=new cc.SpriteFrame;o.setTexture(t),e.spriteFrame=o},n.onerror=function(t){console.error("Failed to load image:",t)}},t}();n.default=o,cc._RF.pop()},{}],Baselayer:[function(t,e,n){"use strict";cc._RF.push(e,"85f2bS+gIxJj5wlc4XZ3Qd4","Baselayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.zoomIn=function(t,e,n){void 0===e&&(e=1.5),void 0===n&&(n=.3),t.setScale(e);var o=cc.scaleTo(n,1);cc.tween(t).then(o).start()},e.prototype.zoomOut=function(t,e,n){void 0===e&&(e=.5),void 0===n&&(n=.3),t.setScale(e);var o=cc.scaleTo(n,1);cc.tween(t).then(o).start()},e.prototype.flip=function(t){var e=cc.scaleTo(.1,0,1),n=cc.scaleTo(.1,1,1),o=cc.sequence(e,n);cc.tween(t).then(o).start()},r([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],BlockReady:[function(t,e,n){"use strict";cc._RF.push(e,"8e9bfZ344VMy58mUdGQe/uw","BlockReady");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.basicPos=cc.v2(0,0),e.index=-1,e.pos=null,e.scale=.45,e.isActive=!1,e.currentPos=null,e.status=a.ENUM_RBLOCK_STATUS.SHOW,e}return i(e,t),e.prototype.init=function(t,e,n){void 0===n&&(n=.45),this.index=t,this.pos=e,this.node.scale=n,this.node.setPosition(e),this.setOpacity(a.ENUM_RBLOCK_STATUS.HIDE)},e.prototype.setOpacity=function(t){this.status=t,this.node.opacity=t},e.prototype.setActive=function(t){if(void 0===t&&(t=!0),this.isActive=t,t){var e=this.node,n=e.x,o=e.y;this.currentPos=cc.v2(n,o+150),this.node.setPosition(this.currentPos),this.node.scale=1,this.node.zIndex=10}else this.node.setPosition(this.pos),this.node.scale=this.scale,this.node.zIndex=1},e.prototype.setMove=function(t,e){if(this.currentPos){var n=this.currentPos.x+t,o=this.currentPos.y+e;this.currentPos=cc.v2(n,o),this.node.setPosition(this.currentPos)}},e.prototype.getRelPos=function(t){var e=this.node.convertToWorldSpaceAR(this.basicPos);return t.convertToNodeSpaceAR(e)},r([l],e.prototype,"basicPos",void 0),r([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Enum":"Enum"}],Block:[function(t,e,n){"use strict";cc._RF.push(e,"947a1FWlbVJirc572MBu1AC","Block");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=-1,e.y=-1,e.index=-1,e.status=a.ENUM_BLOCK_STATUS.HIDE,e.isCombine=!1,e}return i(e,t),e.prototype.init=function(t,e,n){this.x=t,this.y=e,this.index=n,this.isCombine=!1,this.setOpacity(a.ENUM_BLOCK_STATUS.HIDE),this.setActive(!1)},e.prototype.setOpacity=function(t){this.status=t,this.node.opacity=t},e.prototype.setActive=function(t){this.node.getChildByName("active").active=t},r([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Enum":"Enum"}],1:[function(t,e){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function s(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}})();var l,u=[],p=!1,f=-1;function h(){p&&l&&(p=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!p){var t=c(h);p=!0;for(var e=u.length;e;){for(l=u,u=[];++f<e;)l&&l[f].run();f=-1,e=u.length}l=null,p=!1,s(t)}}function g(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||p||c(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],DailyTaskItem:[function(t,e,n){"use strict";cc._RF.push(e,"ea4bd4gZAJANb+QEYfvTW1J","DailyTaskItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label_name=null,e.label_reward=null,e.btn=null,e.task_done=null,e.task_not_done=null,e.fill=null,e}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.init=function(t,e){this.label_name.string=t,this.label_reward.string=e.toString()},e.prototype.setFill=function(t){this.fill.fillRange=t,t>=1&&(this.task_not_done.active=!1)},r([s(cc.Label)],e.prototype,"label_name",void 0),r([s(cc.Label)],e.prototype,"label_reward",void 0),r([s(cc.Button)],e.prototype,"btn",void 0),r([s(cc.Node)],e.prototype,"task_done",void 0),r([s(cc.Node)],e.prototype,"task_not_done",void 0),r([s(cc.Sprite)],e.prototype,"fill",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"730a3DszhpGB4lxakYD51PT","DataManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Enum"),i=function(){function t(){this.mode=o.ENUM_GAME_MODE.SCORE,this.status=o.ENUM_GAME_STATUS.UNRUNING,this.loadingRate=0,this._isMusicOn=!0,this._isSoundOn=!0,this.games=[{title:"\u6d88\u706d\u661f\u661f",icon:"xiao2d",appid:"wxefd5a4ddd8e31b44",url:"https://store.cocos.com/app/detail/4183"},{title:"\u5b9e\u51b5\u8db3\u7403\u676f",icon:"football",appid:"wx0c16e9d7f9e87dac",url:"https://store.cocos.com/app/detail/4221"},{title:"\u722c\u4e86\u4e2a\u722c",icon:"stairway",appid:"wx025bcf3a316bfa27",url:"https://store.cocos.com/app/detail/4314"},{title:"\u54a9\u4e86\u4e2a\u54a93D",icon:"xiao3d",appid:"wx5841e5a26082b380",url:"https://store.cocos.com/app/detail/4148"},{title:"\u7ecf\u5178\u6ce1\u6ce1\u9f99",icon:"bubble",appid:"wxcc2f90afdf28ae3b",url:"https://store.cocos.com/app/detail/4370"}],this.level=1,this.levelMax=1,this.score=0,this.scoreMax=0,this.historyData=null,this.gameToken=null}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMusicOn",{get:function(){return this._isMusicOn},set:function(t){this._isMusicOn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSoundOn",{get:function(){return this._isSoundOn},set:function(t){this._isSoundOn=t},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.status=o.ENUM_GAME_STATUS.UNRUNING},t.prototype.save=function(){cc.sys.localStorage.setItem("CC2_TETRIS_CLEARING",JSON.stringify({isSoundOn:this.isSoundOn,isMusicOn:this.isMusicOn,level:this.level,levelMax:this.levelMax,scoreMax:this.scoreMax,historyData:this.historyData,gameToken:this.gameToken}))},t.prototype.restore=function(){var t=cc.sys.localStorage.getItem("CC2_TETRIS_CLEARING");try{var e=JSON.parse(t);this.isMusicOn=!1!==(null==e?void 0:e.isMusicOn),this.isSoundOn=!1!==(null==e?void 0:e.isSoundOn),this.level="number"==typeof e.level?e.level:1,this.levelMax="number"==typeof e.levelMax?e.levelMax:1,this.scoreMax="number"==typeof e.scoreMax?e.scoreMax:0,this.historyData=(null==e?void 0:e.historyData)||null,this.gameToken=(null==e?void 0:e.gameToken)||null}catch(n){this.isMusicOn=!0,this.isSoundOn=!0,this.level=1,this.levelMax=1,this.scoreMax=0,this.historyData=null,this.gameToken=null}},t._instance=null,t}();n.default=i,cc._RF.pop()},{"../Enum":"Enum"}],EffectManager:[function(t,e,n){"use strict";cc._RF.push(e,"def54s79C1DBq7aJq3x4CWS","EffectManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PoolManager"),i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e,n){var i=o.default.instance.getNode(""+t,e);if(n&&n.pos&&i.setPosition(n.pos),i.getComponent(cc.Animation)){var r=i.getComponent(cc.Animation);r.on("finished",function(){i.removeFromParent()}),r.play()}else i.getComponent(cc.ParticleSystem)&&i.getComponent(cc.ParticleSystem).resetSystem()},t._instance=null,t}();n.default=i,cc._RF.pop()},{"./PoolManager":"PoolManager"}],Enum:[function(t,e,n){"use strict";cc._RF.push(e,"50f2e0oDptJt4SjWGm8di2L","Enum"),Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_RESOURCE_TYPE=n.ENUM_RBLOCK_STATUS=n.ENUM_BLOCK_STATUS=n.ENUM_UI_TYPE=n.ENUM_AUDIO_CLIP=n.ENUM_GAME_STATUS=n.ENUM_GAME_MODE=void 0,function(t){t.SCORE="SCORE",t.LEVEL="LEVEL"}(n.ENUM_GAME_MODE||(n.ENUM_GAME_MODE={})),function(t){t.UNRUNING="UNRUNING",t.RUNING="RUNING"}(n.ENUM_GAME_STATUS||(n.ENUM_GAME_STATUS={})),function(t){t.BGM="bgm",t.CLICK="click",t.LOSE="lose",t.WIN="win",t.BLOCK_ACTIVE="block_active",t.BLOCK_UNACTIVE="block_unactive",t.SKILL_BACK="skill_back",t.SKILL_BOMB="skill_bomb",t.SKILL_SHUFFLE="skill_shuffle"}(n.ENUM_AUDIO_CLIP||(n.ENUM_AUDIO_CLIP={})),function(t){t.MENU="MenuLayer",t.MAIN="MainLayer",t.SETTING="SettingLayer",t.EXIT="ExitLayer",t.LOSE="LoseLayer",t.WIN="WinLayer",t.MORE="MoreLayer",t.PROFILE="ProfileLayer",t.LEADERBOARD="LeaderboardLayer",t.TASKS="TasksLayer",t.SHOP="ShopLayer"}(n.ENUM_UI_TYPE||(n.ENUM_UI_TYPE={})),function(t){t[t.SHOW=255]="SHOW",t[t.TIP=100]="TIP",t[t.HIDE=0]="HIDE"}(n.ENUM_BLOCK_STATUS||(n.ENUM_BLOCK_STATUS={})),function(t){t[t.SHOW=255]="SHOW",t[t.HIDE=100]="HIDE"}(n.ENUM_RBLOCK_STATUS||(n.ENUM_RBLOCK_STATUS={})),n.ENUM_RESOURCE_TYPE=[{content:cc.AudioClip,path:"audio",type:"audio",ratio:.4},{content:cc.Prefab,path:"prefab",type:"prefab",ratio:.3},{content:cc.SpriteFrame,path:"sprite",type:"sprite",ratio:.3}],cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"bcae8q0UKhLAL4D4SoN+gEr","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.eventMap=new Map}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n){this.eventMap.has(t)?this.eventMap.get(t).push({event:e,context:n}):this.eventMap.set(t,[{event:e,context:n}])},t.prototype.off=function(t,e){if(this.eventMap.has(t)){var n=this.eventMap.get(t),o=n.findIndex(function(t){return t.event==e});o>-1&&n.splice(o,1)}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.eventMap.has(t)){var o=this.eventMap.get(t);o.forEach(function(t){var n=t.event,o=t.context;o?n.apply(o,e):n(e)})}},t.prototype.clear=function(){this.eventMap.clear()},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],ExitLayer:[function(t,e,n){"use strict";cc._RF.push(e,"30bdbeLI7FCC6dF2SvgX/Hg","ExitLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),p=t("./Baselayer"),f=t("../manager/DataManager"),h=t("../manager/SdkManager"),d=cc._decorator,g=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnSubmit=null,e.btnRestart=null,e.btnClose=null,e.btnMusic=null,e.btnSound=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnSubmit=cc.find("buttons/btn_submit",this.panel),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnSubmit.on("click",this.onSubmitClick,this),this.btnRestart.on("click",this.onRestartClick,this),this.btnClose.on("click",this.onCloseClick,this),this.btnMusic=cc.find("buttons/btn_music",this.panel),this.btnSound=cc.find("buttons/btn_sound",this.panel),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound.on("click",this.onSoundClick,this)},e.prototype.onDestroy=function(){this.btnSubmit.off("click",this.onSubmitClick,this),this.btnSubmit.off("click",this.onRestartClick,this),this.btnClose.off("click",this.onCloseClick,this),this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),h.default.instance.toggleBannerAd(!0),this.rendorMusic(),this.rendorSound()},e.prototype.onDisable=function(){h.default.instance.toggleBannerAd(!1)},e.prototype.onCloseClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.EXIT,!1)},e.prototype.onSubmitClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.EXIT,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU)},e.prototype.onRestartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.historyData=null,f.default.instance.gameToken=null,f.default.instance.save(),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.EXIT,!1),f.default.instance.score=0,l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onSoundClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.isSoundOn=!f.default.instance.isSoundOn,f.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.isMusicOn=!f.default.instance.isMusicOn,f.default.instance.save(),f.default.instance.isMusicOn?u.default.instance.playMusic():u.default.instance.stopMusic(),this.rendorMusic()},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=f.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!f.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=f.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!f.default.instance.isSoundOn},r([g],e)}(p.default));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],FadeManager:[function(t,e,n){"use strict";cc._RF.push(e,"00872TxwjFFprih9XF/Yufu","FadeManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../StaticInstance"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.active=!1,a.StaticInstance.setFadeManager(this)},e.prototype.fadeIn=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(n){e.node.active=!0,e.node.opacity=0,cc.tween(e.node).to(t,{opacity:255}).call(function(){n(null)}).start()})},e.prototype.fadeOut=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(n){e.node.active=!0,e.node.opacity=255,cc.tween(e.node).to(t,{opacity:0}).call(function(){e.node.active=!1,n(null)}).start()})},r([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../StaticInstance":"StaticInstance"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"8d970VZoPFL/L9/Lg/KHxlp","GameManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,u=(s.property,t("../Enum")),p=t("../StaticInstance"),f=t("../api/controllers/AuthController"),h=t("../game/Level"),d=t("./AudioManager"),g=t("./DataManager"),_=t("./PoolManager"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stage=null,e}return i(e,t),e.prototype.onLoad=function(){p.StaticInstance.setGameManager(this),this.stage=cc.find("Stage",this.node)},e.prototype.onDestroy=function(){},e.prototype.onGameStart=function(){g.default.instance.reset(),this.initGame()},e.prototype.onGameOver=function(t){var e;if(g.default.instance.status=u.ENUM_GAME_STATUS.UNRUNING,t==u.ENUM_UI_TYPE.LOSE){if(g.default.instance.mode==u.ENUM_GAME_MODE.SCORE){var n=g.default.instance.score,o=g.default.instance.gameToken;null===(e=f.UserController.Instance)||void 0===e||e.postGameFinish(n,o).then(function(t){console.log("game ended token",t)}).catch(function(t){console.error("Failed to end game:",t)}),g.default.instance.gameToken=null,g.default.instance.historyData=null,g.default.instance.save()}d.default.instance.playSound(u.ENUM_AUDIO_CLIP.LOSE),this.scheduleOnce(function(){p.StaticInstance.uiManager.toggle(u.ENUM_UI_TYPE.LOSE)},.3)}},e.prototype.initGame=function(){var t;return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return g.default.instance.historyData||null===(t=f.UserController.Instance)||void 0===t||t.postGameStart().then(function(t){console.log("game start token",t.game_token),g.default.instance.gameToken=t.game_token}).catch(function(t){console.error("Failed to start game:",t)}),g.default.instance.status=u.ENUM_GAME_STATUS.UNRUNING,this.stage.removeAllChildren(),_.default.instance.getNode("LevelScore",this.stage).getComponent(h.default).init(),g.default.instance.status=u.ENUM_GAME_STATUS.RUNING,[4,p.StaticInstance.fadeManager.fadeOut()];case 1:return e.sent(),[2]}})})},r([l],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../api/controllers/AuthController":"AuthController","../game/Level":"Level","./AudioManager":"AudioManager","./DataManager":"DataManager","./PoolManager":"PoolManager"}],Index:[function(t,e,n){"use strict";cc._RF.push(e,"bd1a12oV81Cu7bBxEAPpr3S","Index");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./StaticInstance"),l=t("./Enum"),u=t("./manager/AudioManager"),p=t("./manager/DataManager"),f=t("./manager/ResourceManager"),h=t("./manager/SdkManager"),d=t("./telegram/TelegramMiniApp"),g=t("./api/ApiClientFactory"),_=t("./api/TestManager"),y=t("./ads/ads-gram/AdsGram"),b=t("./api/controllers/AuthController"),m=t("./ads/monetag/Monetag"),v=cc._decorator,S=v.ccclass,M=(v.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.getChildByName("UI").opacity=255,cc.view.setResizeCallback(function(){return t.responsive()}),this.responsive(),p.default.instance.loadingRate=0,d.TelegramWebApp.Instance.init().then(function(t){console.log("telegram web app init succes: ",t.success),console.log("init data: ",d.TelegramWebApp.Instance.getTelegramInitData()),d.TelegramWebApp.Instance.getTelegramWebApp().requestFullscreen()}),y.AdsGramController.Instance.init().then(function(t){console.log("adsgram init succes: ",t.success),y.AdsGramController.Instance.initAdsContorller()}),m.MonetagController.Instance.init().then(function(t){console.log("MonetagController init succes: ",t.success)})},e.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e,n,o,i,r,a,y,m,v,S,M;return c(this,function(c){switch(c.label){case 0:for(r in t=new g.ApiClientFactory("https://bf1b-46-185-75-40.ngrok-free.app/api/",{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":"skip-browser-warning"}),e=d.TelegramWebApp.Instance.getTelegramInitData(),console.log("init data (token): "+e),n=t.createAuthorizedClient(e),o=new b.UserController(n),b.UserController.Instance=o,i=[],l.ENUM_RESOURCE_TYPE)i.push(r);a=0,c.label=1;case 1:return a<i.length?(y=i[a],m=l.ENUM_RESOURCE_TYPE[y],[4,f.default.instance.loadRes(m)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return s.StaticInstance.uiManager.init(),p.default.instance.restore(),u.default.instance.playMusic(),h.default.instance.initAudioEndListener(),h.default.instance.passiveShare(),h.default.instance.getRank(),h.default.instance.initBannerAd(),h.default.instance.initInterstitialAd(),h.default.instance.initVideoAd(),h.default.instance.initCustomRowAd(),h.default.instance.initCustomColAd(),s.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!0,function(){p.default.instance.loadingRate=1}),v=new g.ApiClientFactory("https://farm-stars.online/",{"Content-Type":"application/json",Accept:"application/json"}),S=v.createClient(),M=new _.TestManager(S),_.TestManager.Instance=M,o.getUser().then(function(t){console.log("user succes"),console.log(t)}),[2]}})})},e.prototype.responsive=function(){var t=cc.view.getDesignResolutionSize(),e=cc.view.getFrameSize(),n=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!0},o=t.width/t.height,i=e.width/e.height;o<1?i<1?i>o?n():(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0):n():i>1?i<o?n():(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):n()},r([S],e)}(cc.Component));n.default=M,cc._RF.pop()},{"./Enum":"Enum","./StaticInstance":"StaticInstance","./ads/ads-gram/AdsGram":"AdsGram","./ads/monetag/Monetag":"Monetag","./api/ApiClientFactory":"ApiClientFactory","./api/TestManager":"TestManager","./api/controllers/AuthController":"AuthController","./manager/AudioManager":"AudioManager","./manager/DataManager":"DataManager","./manager/ResourceManager":"ResourceManager","./manager/SdkManager":"SdkManager","./telegram/TelegramMiniApp":"TelegramMiniApp"}],LanguageData:[function(t,e){"use strict";cc._RF.push(e,"a1028o2O9FEBLEjdv1JLVdg","LanguageData");var n=t("polyglot.min"),o=null;function i(t){return window.i18n.languages[t]}function r(t){t&&(o?o.replace(t):o=new n({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=i(t)||{};window.i18n.curLang=t,r(e),this.inst=o}},t:function(t,e){if(o)return o.t(t,e)},inst:o,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var o=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,o)}for(var i=0;i<e.length;++i){var r=e[i];r.node.active&&r.updateLabel()}for(var a=[],c=0;c<t.length;++c){var s=t[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,s)}for(var l=0;l<a.length;++l){var u=a[l];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LeaderboardItem:[function(t,e,n){"use strict";cc._RF.push(e,"1407dGbPtFN1q3+fGpz+FFJ","LeaderboardItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label_place=null,e.label_name=null,e.label_score=null,e}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.init=function(t,e,n){this.label_place.string=t.toString(),this.label_name.string=e,this.label_score.string=n.toString()},r([s(cc.Label)],e.prototype,"label_place",void 0),r([s(cc.Label)],e.prototype,"label_name",void 0),r([s(cc.Label)],e.prototype,"label_score",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LeaderboardLayer:[function(t,e,n){"use strict";cc._RF.push(e,"926e69Nno9K3puHkHBr9CiL","LeaderboardLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("../manager/PoolManager"),u=t("./Baselayer"),p=t("../ui/LeaderboardItem"),f=t("../api/controllers/AuthController"),h=cc._decorator,d=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.youItem=null,e.btnGiveaway=null,e.btnFindMe=null,e.giveaway=null,e.giveawayPanel=null,e.btnCloseGiveaway=null,e.btnMain=null,e.btnLeaderboard=null,e.btnTasks=null,e.btnProfile=null,e.content=null,e}return i(e,t),e.prototype.onLoad=function(){this.content=cc.find("main/scroll_view/view/content",this.node),this.youItem=cc.find("main/leaderboard_item_you",this.node).getComponent(p.default),this.btnMain=cc.find("tabs_panel/btn_main",this.node),this.btnLeaderboard=cc.find("tabs_panel/btn_leader",this.node),this.btnTasks=cc.find("tabs_panel/btn_tasks",this.node),this.btnProfile=cc.find("tabs_panel/btn_profile",this.node),this.btnFindMe=cc.find("btn_find_me",this.node),this.btnGiveaway=cc.find("btn_giveaway",this.node),this.giveaway=cc.find("giveaway",this.node),this.giveawayPanel=cc.find("panel",this.giveaway),this.btnCloseGiveaway=cc.find("btn_close",this.giveawayPanel),this.btnMain.on("click",this.onMainClick,this),this.btnLeaderboard.on("click",this.onLeaderboardClick,this),this.btnTasks.on("click",this.onTasksClick,this),this.btnProfile.on("click",this.onProfileClick,this),this.btnFindMe.on("click",this.onFindMeClick,this),this.btnGiveaway.on("click",this.onGiveawayClick,this),this.giveawayPanel.on("click",this.onCloseGiveawayClick,this),this.btnCloseGiveaway.on("click",this.onCloseGiveawayClick,this)},e.prototype.onDestroy=function(){this.btnMain.off("click",this.onMainClick,this),this.btnLeaderboard.off("click",this.onLeaderboardClick,this),this.btnTasks.off("click",this.onTasksClick,this),this.btnProfile.off("click",this.onProfileClick,this),this.btnFindMe.off("click",this.onFindMeClick,this),this.btnGiveaway.off("click",this.onGiveawayClick,this),this.giveawayPanel.off("click",this.onCloseGiveawayClick,this),this.btnCloseGiveaway.off("click",this.onCloseGiveawayClick,this)},e.prototype.onEnable=function(){var t;this.giveaway.active=!1;var e=this.youItem,n=this.content,o=l.default.instance;null===(t=f.UserController.Instance)||void 0===t||t.getLeaderboard().then(function(t){var i=t.userPosition;e.init(i.position,"@"+i.username,i.points);var r=t.leaderboard;n.destroyAllChildren();for(var a=0;a<r.length;a++){var c=r[a];(c.user_id==i.user_id?o.getNode("leaderboard_item_you",n):o.getNode("leaderboard_item",n)).getComponent(p.default).init(c.position,"@"+c.username,c.points)}}).catch(function(t){console.error("Failed to fetch leaderboard:",t)})},e.prototype.onDisable=function(){},e.prototype.onMainClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},e.prototype.onLeaderboardClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD)},e.prototype.onTasksClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS)},e.prototype.onProfileClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE)},e.prototype.onFindMeClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK)},e.prototype.onGiveawayClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.giveaway.active=!0},e.prototype.onCloseGiveawayClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.giveaway.active=!1},r([d],e)}(u.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../api/controllers/AuthController":"AuthController","../manager/AudioManager":"AudioManager","../manager/PoolManager":"PoolManager","../ui/LeaderboardItem":"LeaderboardItem","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],Level:[function(t,e,n){"use strict";cc._RF.push(e,"bed791tFeFAgZOiFmhB/8SN","Level");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("../StaticInstance"),s=t("../Utils"),l=t("../ads/monetag/Monetag"),u=t("../api/controllers/AuthController"),p=t("../manager/AudioManager"),f=t("../manager/DataManager"),h=t("../manager/EffectManager"),d=t("../manager/PoolManager"),g=t("../manager/SdkManager"),_=t("../manager/ToastManager"),y=t("../telegram/TelegramMiniApp"),b=t("./Block"),m=t("./BlockReady"),v=cc._decorator,S=v.ccclass,M=v.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blocks_select=null,e.blocks_change=null,e.isPremiumPurchased=!1,e.skills=null,e.skillTip=null,e.blocks_main=null,e.eff=null,e.combo=null,e.slots_ready=null,e.blocks_ready=null,e.score_current_num=null,e.score_max_num=null,e.isInitReadyBlock=!1,e.hasShowTip=!1,e.combineNum=0,e.comboNum=0,e.isBomb=!1,e.skillsCount=0,e.blocksPlacedCount=0,e.panelSkill=null,e.usedSkillsText=null,e.btnOpenSkills=null,e.btnCloseSkills=null,e.skill_confirm_popup_1=null,e.skill_confirm_popup_2=null,e.skill_confirm_popup_3=null,e.btnSkill_1=null,e.btnSkill_2=null,e.btnSkill_3=null,e.btnSkill_1_confirm=null,e.btnSkill_2_confirm=null,e.btnSkill_3_confirm=null,e.btnSkill_1_decline=null,e.btnSkill_2_decline=null,e.btnSkill_3_decline=null,e.hint_select_change=null,e.hint_select_new=null,e.btnShop=null,e.labelCoinsAmount=null,e.block_to_change_index=-1,e.block_to_change_new_index=-1,e}return i(e,t),e.prototype.init=function(){this.skillsCount=0,this.skills=cc.find("skills",this.node),this.skillTip=cc.find("hint_bomb",this.node),this.slots_ready=cc.find("ready/slots",this.node),this.score_current_num=cc.find("header/score_current/num",this.node),this.score_max_num=cc.find("header/score_max/num",this.node),this.eff=cc.find("main/eff",this.node),this.combo=cc.find("combo",this.node),this.hint_select_change=cc.find("hint_select_change",this.node),this.hint_select_new=cc.find("hint_select_new",this.node),this.blocks_main=cc.find("main/blocks",this.node),this.initMainBlocks(),this.blocks_ready=cc.find("ready/blocks",this.node),this.initReadyBlocks(!0),this.initSelectNewBlocks(),this.score_max_num.getComponent(cc.Label).string=""+f.default.instance.scoreMax,this.panelSkill=cc.find("hints_popup",this.node),this.usedSkillsText=cc.find("panel/used_hints/label",this.panelSkill),this.btnOpenSkills=cc.find("btn_hint",this.node),this.btnCloseSkills=cc.find("panel/btn_close",this.panelSkill),this.btnSkill_1=cc.find("panel/layout/btn_hint_1/btn_bonus",this.panelSkill),this.btnSkill_2=cc.find("panel/layout/btn_hint_2/btn_bonus",this.panelSkill),this.btnSkill_3=cc.find("panel/layout/btn_hint_3/btn_bonus",this.panelSkill),this.skill_confirm_popup_1=cc.find("skill_confirm_popup_1",this.node),this.skill_confirm_popup_2=cc.find("skill_confirm_popup_2",this.node),this.skill_confirm_popup_3=cc.find("skill_confirm_popup_3",this.node),this.btnSkill_1_confirm=cc.find("panel/layout/buttons/btn_yes",this.skill_confirm_popup_1),this.btnSkill_2_confirm=cc.find("panel/layout/buttons/btn_yes",this.skill_confirm_popup_2),this.btnSkill_3_confirm=cc.find("panel/layout/buttons/btn_yes",this.skill_confirm_popup_3),this.btnSkill_1_decline=cc.find("panel/layout/buttons/btn_no",this.skill_confirm_popup_1),this.btnSkill_2_decline=cc.find("panel/layout/buttons/btn_no",this.skill_confirm_popup_2),this.btnSkill_3_decline=cc.find("panel/layout/buttons/btn_no",this.skill_confirm_popup_3),this.btnShop=cc.find("btn_coin_balance",this.node),this.labelCoinsAmount=cc.find("btn_coin_balance/coins_amount",this.node).getComponent(cc.Label),this.setTouch(!0),this.setSkill(!0),this.fetchUserData()},e.prototype.initMainBlocks=function(){for(var t=0;t<81;t++){var e=d.default.instance.getNode("Block",this.blocks_main).getComponent(b.default),n=Math.floor(t/9),o=t%9;e.init(n,o,t)}if(f.default.instance.mode==a.ENUM_GAME_MODE.SCORE&&f.default.instance.historyData){var i=f.default.instance.historyData,r=i.main,c=i.score;for(t=0;t<this.blocks_main.children.length;t++)(e=this.blocks_main.children[t].getComponent(b.default)).setOpacity(r[t]);f.default.instance.score=c}this.score_current_num.getComponent(cc.Label).string=""+f.default.instance.score},e.prototype.initSelectChangeBlocks=function(){var t=this;this.blocks_change.removeAllChildren();for(var e=function(e){var o=n.blocks_ready.children[e].getComponent(m.default).index,i=d.default.instance.getNode("SlotReady",n.blocks_change);i.on("click",function(){t.onSelectChangeBlockClick(e)},n);var r=d.default.instance.getNode("BlockReady"+o);r.parent=i;var c=r.getComponent(m.default);c.init(e,cc.v2(0,0)),c.setOpacity(a.ENUM_RBLOCK_STATUS.SHOW)},n=this,o=0;o<this.blocks_ready.childrenCount;o++)e(o)},e.prototype.initSelectNewBlocks=function(){var t=this;this.blocks_select.removeAllChildren();for(var e=function(e){var o=e,i=d.default.instance.getNode("SlotReady",n.blocks_select);i.on("click",function(){t.onSelectNewBlockClick(o)},n);var r=d.default.instance.getNode("BlockReady"+e);r.parent=i;var c=r.getComponent(m.default);c.init(e,cc.v2(0,0)),c.setOpacity(a.ENUM_RBLOCK_STATUS.SHOW)},n=this,o=1;o<35;o++)e(o)},e.prototype.onSelectChangeBlockClick=function(t){this.block_to_change_index=t,this.block_to_change_new_index=-1,this.hint_select_new.active=!0,this.hint_select_change.active=!1},e.prototype.onSelectNewBlockClick=function(t){this.block_to_change_new_index=t;for(var e=[],n=[],o=0;o<this.blocks_ready.childrenCount;o++){var i=this.blocks_ready.children[o].getComponent(m.default);o==this.block_to_change_index?(e.push(t),n.push(!0)):(e.push(i.index),n.push(i.isActive))}for(this.blocks_ready.removeAllChildren(),o=0;o<e.length;o++){var r=e[o],c=(n[o],d.default.instance.getNode("BlockReady"+r,this.blocks_ready)),s=this.slots_ready.children[o],l=c.getComponent(m.default);l.init(r,cc.v2(s.x,s.y)),l.setOpacity(a.ENUM_RBLOCK_STATUS.SHOW)}this.hint_select_change.active=!1,this.hint_select_new.active=!1,this.checkReadyBlocks()},e.prototype.initReadyBlocks=function(t){var e=this;void 0===t&&(t=!1),this.blocks_ready.removeAllChildren(),this.isInitReadyBlock=!0;for(var n=0;n<3;n++)if(t&&f.default.instance.mode==a.ENUM_GAME_MODE.SCORE&&f.default.instance.historyData){var o=f.default.instance.historyData.ready;if(!(o[n]>=0))continue;var i=o[n],r=d.default.instance.getNode("BlockReady"+i,this.blocks_ready),c=this.slots_ready.children[n];r.getComponent(m.default).init(i,cc.v2(c.x,c.y)),r.scale=0}else i=s.random(1,35),r=d.default.instance.getNode("BlockReady"+i,this.blocks_ready),c=this.slots_ready.children[n],r.getComponent(m.default).init(i,cc.v2(c.x,c.y)),r.scale=0;this.checkReadyBlocks();for(var l=0;l<this.blocks_ready.children.length;l++){var u=(r=this.blocks_ready.children[l]).getComponent(m.default);cc.tween(r).to(.3,{scale:u.scale}).start()}this.scheduleOnce(function(){e.isInitReadyBlock=!1},.3)},e.prototype.setTouch=function(t){void 0===t&&(t=!0),t?(this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchOver,this),this.node.on("touchcancel",this.onTouchOver,this)):(this.node.off("touchstart",this.onTouchStart,this),this.node.off("touchmove",this.onTouchMove,this),this.node.off("touchend",this.onTouchOver,this),this.node.off("touchcancel",this.onTouchOver,this))},e.prototype.setSkill=function(t){void 0===t&&(t=!0),t?(this.skills.getChildByName("skill_bomb").on("click",this.onSkillBombConfirm,this),this.skills.getChildByName("skill_shuffle").on("click",this.onSkillShuffleConfirm,this),this.btnOpenSkills.on("click",this.onClickHint,this),this.btnCloseSkills.on("click",this.onClickHintClose,this),this.btnSkill_1.on("click",this.openConfirmSkill_1,this),this.btnSkill_2.on("click",this.openConfirmSkill_2,this),this.btnSkill_3.on("click",this.openConfirmSkill_3,this),this.btnSkill_1_confirm.on("click",this.onSkillShuffleConfirm,this),this.btnSkill_2_confirm.on("click",this.onSkillBombConfirm,this),this.btnSkill_3_confirm.on("click",this.onSkillSelectConfirm,this),this.btnSkill_1_decline.on("click",this.closeConfirmSkill_1,this),this.btnSkill_2_decline.on("click",this.closeConfirmSkill_2,this),this.btnSkill_3_decline.on("click",this.closeConfirmSkill_3,this),this.btnShop.on("click",this.openShop,this)):(this.skills.getChildByName("skill_bomb").off("click",this.onSkillBombConfirm,this),this.skills.getChildByName("skill_shuffle").off("click",this.onSkillShuffleConfirm,this),this.btnOpenSkills.off("click",this.onClickHint,this),this.btnCloseSkills.off("click",this.onClickHintClose,this),this.btnSkill_1.off("click",this.openConfirmSkill_1,this),this.btnSkill_2.off("click",this.openConfirmSkill_2,this),this.btnSkill_3.off("click",this.openConfirmSkill_3,this),this.btnSkill_1_confirm.off("click",this.onSkillShuffleConfirm,this),this.btnSkill_2_confirm.off("click",this.onSkillBombConfirm,this),this.btnSkill_3_confirm.off("click",this.onSkillSelectConfirm,this),this.btnSkill_1_decline.off("click",this.closeConfirmSkill_1,this),this.btnSkill_2_decline.off("click",this.closeConfirmSkill_2,this),this.btnSkill_3_decline.off("click",this.closeConfirmSkill_3,this),this.btnShop.off("click",this.openShop,this))},e.prototype.onTouchStart=function(t){if(this.hasShowTip=!1,f.default.instance.status!=a.ENUM_GAME_STATUS.UNRUNING||!this.isInitReadyBlock){var e=t.getLocation();if(this.isBomb){for(var n=this.blocks_main.convertToNodeSpaceAR(e),o=null,i=0;i<this.blocks_main.children.length;i++){var r=this.blocks_main.children[i];if(r.getBoundingBox().contains(n)){o=r;break}}if(o){var c=o.getComponent(b.default),s=Math.floor(c.index/9),l=c.index%9,u=[c.index],d=l-1;d>=0&&u.push(9*s+d);var g=l+1;g<9&&u.push(9*s+g);var _=s+1;if(_<9){u.push(9*_+l);var v=l-1;v>=0&&u.push(9*_+v);var S=l+1;S<9&&u.push(9*_+S)}var M=s-1;if(M>=0){u.push(9*M+l);var C=l-1;C>=0&&u.push(9*M+C);var k=l+1;k<9&&u.push(9*M+k)}for(p.default.instance.playSound(a.ENUM_AUDIO_CLIP.SKILL_BOMB),y.TelegramWebApp.Instance.hapticHeavyImpact(),i=0;i<this.blocks_main.children.length;i++){var I=this.blocks_main.children[i],E=I.getComponent(b.default);u.includes(E.index)&&(E.status==a.ENUM_BLOCK_STATUS.SHOW&&this.setScore(),E.setActive(!1),E.setOpacity(a.ENUM_BLOCK_STATUS.HIDE),h.default.instance.play("EffCombine",this.eff,{pos:I.getPosition()}))}this.isBomb=!1,this.skillTip.active=!1}}else{var U=this.blocks_ready.convertToNodeSpaceAR(e);for(i=0;i<this.blocks_ready.children.length;i++){var P=this.blocks_ready.children[i],w=P.getComponent(m.default);P.getBoundingBox().contains(U)&&w.status==a.ENUM_RBLOCK_STATUS.SHOW&&(p.default.instance.playSound(a.ENUM_AUDIO_CLIP.BLOCK_ACTIVE),w.setActive(!0))}}}},e.prototype.onTouchMove=function(t){for(var e=0;e<this.blocks_ready.children.length;e++){var n=this.blocks_ready.children[e].getComponent(m.default);if(n.isActive){var o=t.getDelta();n.setMove(o.x,o.y),this.checkPlace()}}},e.prototype.onTouchOver=function(){for(var t=0;t<this.blocks_ready.children.length;t++){var e=this.blocks_ready.children[t],n=e.getComponent(m.default);n.isActive&&(p.default.instance.playSound(a.ENUM_AUDIO_CLIP.BLOCK_UNACTIVE),y.TelegramWebApp.Instance.hapticLightImpact(),this.hasShowTip?(this.showPlace(),e.removeFromParent(),this.createReadyBlock(),this.tryShowAdOnBlockCount()):n.setActive(!1))}this.doCombine(),this.checkReadyBlocks(),this.checkOver(),f.default.instance.mode==a.ENUM_GAME_MODE.SCORE&&this.setHistoryData()},e.prototype.tryShowAdOnBlockCount=function(){this.blocksPlacedCount++,this.isPremiumPurchased||this.blocksPlacedCount%12==0&&l.MonetagController.Instance.showFullscreenAd()},e.prototype.checkPlace=function(){for(var t=0,e=null,n=0;n<this.blocks_ready.children.length;n++){var o=this.blocks_ready.children[n].getComponent(m.default);o.isActive&&(t=o.index,e=o.getRelPos(this.blocks_main))}for(n=0;n<this.blocks_main.children.length;n++)(r=(i=this.blocks_main.children[n]).getComponent(b.default)).status==a.ENUM_BLOCK_STATUS.TIP&&r.setOpacity(a.ENUM_BLOCK_STATUS.HIDE);for(n=0;n<this.blocks_main.children.length;n++){var i,r=(i=this.blocks_main.children[n]).getComponent(b.default),c=s.getDistance(i.getPosition(),e);if(r.status==a.ENUM_BLOCK_STATUS.HIDE&&c<35){var l=[];switch(t){case 1:l=[0];break;case 2:r.x<9&&r.y<7&&(l=[0,1,2]);break;case 3:r.x<7&&r.y<9&&(l=[0,9,18]);break;case 4:r.x<7&&r.y<8&&r.y>0&&(l=[0,8,9,10,18]);break;case 5:r.x<7&&r.y<7&&(l=[0,9,18,19,20]);break;case 6:r.x<7&&r.y<7&&(l=[0,1,2,11,20]);break;case 7:r.x<7&&r.y<7&&(l=[0,1,2,9,10,11,18,19,20]);break;case 8:r.x<6&&r.y<9&&(l=[0,9,18,27]);break;case 9:r.x<9&&r.y<6&&(l=[0,1,2,3]);break;case 10:r.x<7&&r.y<7&&(l=[0,10,20]);break;case 11:r.x<7&&r.y>1&&(l=[0,8,16]);break;case 12:r.x<7&&r.y<7&&(l=[0,2,10,18,20]);break;case 13:r.x<9&&r.y<8&&(l=[0,1]);break;case 14:r.x<8&&r.y<9&&(l=[0,9]);break;case 15:r.x<8&&r.y<8&&(l=[0,1,9]);break;case 16:r.x<8&&r.y<9&&r.y>0&&(l=[0,8,9]);break;case 17:r.x<8&&r.y<8&&(l=[0,1,9,10]);break;case 18:r.x<8&&r.y<8&&r.y>0&&(l=[0,1,8,9]);break;case 19:r.x<7&&r.y<9&&r.y>0&&(l=[0,8,9,17]);break;case 20:r.x<8&&r.y<8&&(l=[0,1,10]);break;case 21:r.x<8&&r.y<8&&(l=[0,9,10]);break;case 22:r.x<7&&r.y<8&&(l=[0,1,9,18]);break;case 23:r.x<8&&r.y<7&&(l=[0,9,10,11]);break;case 24:r.x<7&&r.y<9&&r.y>0&&(l=[0,9,17,18]);break;case 25:r.x<8&&r.y<7&&(l=[0,1,2,11]);break;case 26:r.x<7&&r.y<8&&(l=[0,1,10,19]);break;case 27:r.x<8&&r.y<7&&(l=[0,1,2,9]);break;case 28:r.x<7&&r.y<8&&(l=[0,9,18,19]);break;case 29:r.x<8&&r.y>1&&(l=[0,7,8,9]);break;case 30:r.x<7&&r.y<8&&(l=[0,9,10,18]);break;case 31:r.x<8&&r.y<8&&r.y>0&&(l=[0,8,9,10]);break;case 32:r.x<7&&r.y<9&&r.y>0&&(l=[0,8,9,18]);break;case 33:r.x<8&&r.y<7&&(l=[0,1,2,10]);break;case 34:r.x<8&&r.y<7&&(l=[0,1,10,11]);break;case 35:r.x<7&&r.y<8&&(l=[0,9,10,19])}this.showPlaceTip(l,n);break}this.hasShowTip=!1}this.combineNum=this.checkCombine()},e.prototype.showPlaceTip=function(t,e){for(var n=0,o=this.blocks_main.children,i=0;i<t.length;i++)(c=e+t[i])<81&&o[c].getComponent(b.default).status==a.ENUM_BLOCK_STATUS.HIDE&&(n+=1);if(n>=t.length){for(var r=0;r<t.length;r++){var c;(c=e+t[r])<81&&o[c].getComponent(b.default).setOpacity(a.ENUM_BLOCK_STATUS.TIP)}this.hasShowTip=!0}else this.hasShowTip=!1},e.prototype.showPlace=function(){for(var t=0;t<this.blocks_main.children.length;t++){var e=this.blocks_main.children[t].getComponent(b.default);e.status==a.ENUM_BLOCK_STATUS.TIP&&(e.setOpacity(a.ENUM_BLOCK_STATUS.SHOW),f.default.instance.mode==a.ENUM_GAME_MODE.SCORE&&this.setScore())}},e.prototype.setScore=function(){f.default.instance.score+=1,this.score_current_num.getComponent(cc.Label).string=""+f.default.instance.score,f.default.instance.score>f.default.instance.scoreMax&&(f.default.instance.scoreMax=f.default.instance.score,f.default.instance.save())},e.prototype.checkReadyBlocks=function(){for(var t=0;t<this.blocks_ready.children.length;t++){for(var e=this.blocks_ready.children[t].getComponent(m.default),n=e.index,o=!1,i=0;i<this.blocks_main.children.length;i++){var r=this.blocks_main.children[i].getComponent(b.default),c=[];switch(n){case 1:c=[0];break;case 2:r.x<9&&r.y<7&&(c=[0,1,2]);break;case 3:r.x<7&&r.y<9&&(c=[0,9,18]);break;case 4:r.x<7&&r.y<8&&r.y>0&&(c=[0,8,9,10,18]);break;case 5:r.x<7&&r.y<7&&(c=[0,9,18,19,20]);break;case 6:r.x<7&&r.y<7&&(c=[0,1,2,11,20]);break;case 7:r.x<7&&r.y<7&&(c=[0,1,2,9,10,11,18,19,20]);break;case 8:r.x<6&&r.y<9&&(c=[0,9,18,27]);break;case 9:r.x<9&&r.y<6&&(c=[0,1,2,3]);break;case 10:r.x<7&&r.y<7&&(c=[0,10,20]);break;case 11:r.x<7&&r.y>1&&(c=[0,8,16]);break;case 12:r.x<7&&r.y<7&&(c=[0,2,10,18,20]);break;case 13:r.x<9&&r.y<8&&(c=[0,1]);break;case 14:r.x<8&&r.y<9&&(c=[0,9]);break;case 15:r.x<8&&r.y<8&&(c=[0,1,9]);break;case 16:r.x<8&&r.y<9&&r.y>0&&(c=[0,8,9]);break;case 17:r.x<8&&r.y<8&&(c=[0,1,9,10]);break;case 18:r.x<8&&r.y<8&&r.y>0&&(c=[0,1,8,9]);break;case 19:r.x<7&&r.y<9&&r.y>0&&(c=[0,8,9,17]);break;case 20:r.x<8&&r.y<8&&(c=[0,1,10]);break;case 21:r.x<8&&r.y<8&&(c=[0,9,10]);break;case 22:r.x<7&&r.y<8&&(c=[0,1,9,18]);break;case 23:r.x<8&&r.y<7&&(c=[0,9,10,11]);break;case 24:r.x<7&&r.y<9&&r.y>0&&(c=[0,9,17,18]);break;case 25:r.x<8&&r.y<7&&(c=[0,1,2,11]);break;case 26:r.x<7&&r.y<8&&(c=[0,1,10,19]);break;case 27:r.x<8&&r.y<7&&(c=[0,1,2,9]);break;case 28:r.x<7&&r.y<8&&(c=[0,9,18,19]);break;case 29:r.x<8&&r.y>1&&(c=[0,7,8,9]);break;case 30:r.x<7&&r.y<8&&(c=[0,9,10,18]);break;case 31:r.x<8&&r.y<8&&r.y>0&&(c=[0,8,9,10]);break;case 32:r.x<7&&r.y<9&&r.y>0&&(c=[0,8,9,18]);break;case 33:r.x<8&&r.y<7&&(c=[0,1,2,10]);break;case 34:r.x<8&&r.y<7&&(c=[0,1,10,11]);break;case 35:r.x<7&&r.y<8&&(c=[0,9,10,19])}c.length&&this.getReadyBlockStatus(c,i)&&(o=!0)}o?e.setOpacity(a.ENUM_RBLOCK_STATUS.SHOW):e.setOpacity(a.ENUM_RBLOCK_STATUS.HIDE)}},e.prototype.getReadyBlockStatus=function(t,e){for(var n=0,o=this.blocks_main.children,i=0;i<t.length;i++){var r=e+t[i];r<81&&o[r].getComponent(b.default).status==a.ENUM_BLOCK_STATUS.HIDE&&(n+=1)}return n>=t.length},e.prototype.createReadyBlock=function(){if(this.blocks_ready.children.length<=0)for(this.initReadyBlocks();!this.checkReadyStatus();)this.initReadyBlocks()},e.prototype.checkReadyStatus=function(){for(var t=!1,e=0;e<this.blocks_ready.children.length;e++)if(this.blocks_ready.children[e].getComponent(m.default).status==a.ENUM_RBLOCK_STATUS.SHOW){t=!0;break}return t},e.prototype.checkCombine=function(){for(var t=0,e=this.blocks_main.children,n=0;n<e.length;n++)(s=e[n].getComponent(b.default)).isCombine=!1;for(n=0;n<9;n++){for(var o=!0,i=0;i<9;i++)(s=e[9*n+i].getComponent(b.default)).status==a.ENUM_BLOCK_STATUS.HIDE&&(o=!1);if(o)for(i=0;i<9;i++)(s=e[9*n+i].getComponent(b.default)).isCombine=!0}for(n=0;n<9;n++){for(o=!0,i=0;i<9;i++)(s=e[n+9*i].getComponent(b.default)).status==a.ENUM_BLOCK_STATUS.HIDE&&(o=!1);if(o)for(i=0;i<9;i++)(s=e[n+9*i].getComponent(b.default)).isCombine=!0}for(n=0;n<9;n+=3)for(i=0;i<9;i+=3){o=!0;for(var r=0;r<3;r++)for(var c=0;c<3;c++)(s=e[n+r+9*(i+c)].getComponent(b.default)).status==a.ENUM_BLOCK_STATUS.HIDE&&(o=!1);if(o)for(r=0;r<3;r++)for(c=0;c<3;c++)(s=e[n+r+9*(i+c)].getComponent(b.default)).isCombine=!0}for(n=0;n<e.length;n++){var s;(s=e[n].getComponent(b.default)).setActive(s.isCombine),s.isCombine&&(t+=1)}return t},e.prototype.doCombine=function(){if(this.hasShowTip&&(this.combineNum?this.comboNum+=1:this.comboNum=0),this.combineNum){for(var t=0;t<this.blocks_main.children.length;t++){var e=this.blocks_main.children[t],n=e.getComponent(b.default);n&&n.isCombine&&(n.setActive(!1),n.setOpacity(a.ENUM_BLOCK_STATUS.HIDE),h.default.instance.play("EffCombine",this.eff,{pos:e.getPosition()}),y.TelegramWebApp.Instance.hapticSuccesNotification(),this.setScore())}this.comboNum>=9&&(this.comboNum=9),this.setCombo(this.comboNum),p.default.instance.playSound("combine_0");var o=Math.floor(this.combineNum/9);if(2==o){var i=s.random(1,2);p.default.instance.playSound("combine_"+i)}o>=3&&(i=s.random(3,5),p.default.instance.playSound("combine_"+i)),this.combineNum=0,this.hasShowTip=!1}},e.prototype.checkOver=function(){this.checkReadyStatus()||(c.StaticInstance.gameManager.onGameOver(a.ENUM_UI_TYPE.LOSE),y.TelegramWebApp.Instance.hapticErrorNotification())},e.prototype.setCombo=function(t){if(!(t<2)){for(var e=this.combo.getChildByName("layers"),n=0;n<e.children.length;n++){var o=e.children[n];o.active=parseInt(o.name)==t-1}this.combo.stopAllActions(),this.combo.x=750;var i=cc.moveTo(.5,0,this.combo.y),r=cc.delayTime(1),a=cc.moveTo(.5,-750,this.combo.y),c=cc.sequence(i,r,a);cc.tween(this.combo).then(c).start()}},e.prototype.onClickHint=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.panelSkill.active=!0,this.usedSkillsText.getComponent(cc.Label).string="\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043e \u043f\u043e\u043b\u0435\u0433\u0448\u0435\u043d\u044c: "+this.skillsCount+"/10"},e.prototype.onClickHintClose=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.panelSkill.active=!1},e.prototype.openConfirmSkill_1=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skillsCount<10&&(this.skill_confirm_popup_1.active=!0)},e.prototype.openConfirmSkill_2=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skillsCount<10&&(this.skill_confirm_popup_2.active=!0)},e.prototype.openConfirmSkill_3=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skillsCount<10&&(this.skill_confirm_popup_3.active=!0)},e.prototype.closeConfirmSkill_1=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skill_confirm_popup_1.active=!1},e.prototype.closeConfirmSkill_2=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skill_confirm_popup_2.active=!1},e.prototype.closeConfirmSkill_3=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.skill_confirm_popup_3.active=!1},e.prototype.onSkillBombConfirm=function(){var t=this;this.onClickHintClose(),this.closeConfirmSkill_2(),f.default.instance.status!=a.ENUM_GAME_STATUS.UNRUNING&&u.UserController.Instance.postBonusTransaction("BUY_BOMB").then(function(e){console.log("Transaction Success:",e),t.skillsCount++,g.default.instance.showVideoAd(function(){g.default.instance.getPlatform()||_.default.instance.show("Incentive simulation distribution",{gravity:"TOP",bg_color:cc.color(102,202,28,255)}),t.isBomb=!0,t.skillTip.active=!0},function(t){_.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})}),t.fetchUserData()}).catch(function(e){console.error("Failed transaction:",e),t.fetchUserData(),t.openShop()})},e.prototype.onSkillShuffleConfirm=function(){var t=this;this.onClickHintClose(),this.closeConfirmSkill_1(),f.default.instance.status!=a.ENUM_GAME_STATUS.UNRUNING&&u.UserController.Instance.postBonusTransaction("BUY_SHUFFLE").then(function(e){console.log("Transaction Success:",e),t.skillsCount++,p.default.instance.playSound(a.ENUM_AUDIO_CLIP.SKILL_SHUFFLE),g.default.instance.showVideoAd(function(){for(g.default.instance.getPlatform()||_.default.instance.show("Incentive simulation distribution",{gravity:"TOP",bg_color:cc.color(102,202,28,255)}),t.initReadyBlocks();!t.checkReadyStatus();)t.initReadyBlocks()},function(t){_.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})}),t.fetchUserData()}).catch(function(e){console.error("Failed transaction:",e),t.fetchUserData(),t.openShop()})},e.prototype.onSkillSelectConfirm=function(){var t=this;this.onClickHintClose(),this.closeConfirmSkill_3(),f.default.instance.status!=a.ENUM_GAME_STATUS.UNRUNING&&u.UserController.Instance.postBonusTransaction("BUY_CHANGE_BLOCK").then(function(e){console.log("Transaction Success:",e),t.skillsCount++,p.default.instance.playSound(a.ENUM_AUDIO_CLIP.SKILL_SHUFFLE),t.initSelectChangeBlocks(),t.hint_select_change.active=!0,t.fetchUserData()}).catch(function(e){console.error("Failed transaction:",e),t.fetchUserData()})},e.prototype.setHistoryData=function(){if(f.default.instance.status!=a.ENUM_GAME_STATUS.UNRUNING){for(var t=[],e=0;e<this.blocks_main.children.length;e++){var n=this.blocks_main.children[e].getComponent(b.default);t.push(n.status)}var o=[],i=[];for(e=0;e<this.blocks_ready.children.length;e++){var r=this.blocks_ready.children[e].getComponent(m.default);i.push(r)}var c=function(t){var e=s.slots_ready.children[t],n=i.findIndex(function(t){return t.pos.x==e.x});n>=0?o.push(i[n].index):o.push(-1)},s=this;for(e=0;e<3;e++)c(e);f.default.instance.historyData={main:t,ready:o,score:f.default.instance.score},f.default.instance.save()}},e.prototype.openShop=function(){p.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SHOP)},e.prototype.fetchUserData=function(){var t,e=this;null===(t=u.UserController.Instance)||void 0===t||t.getUser().then(function(t){e.labelCoinsAmount.string=t.data.balance_stars.toString(),e.isPremiumPurchased=t.data.is_premium}).catch(function(t){console.error("Failed to fetch user data:",t)})},r([M(cc.Node)],e.prototype,"blocks_select",void 0),r([M(cc.Node)],e.prototype,"blocks_change",void 0),r([S],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../Utils":"Utils","../ads/monetag/Monetag":"Monetag","../api/controllers/AuthController":"AuthController","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EffectManager":"EffectManager","../manager/PoolManager":"PoolManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","../telegram/TelegramMiniApp":"TelegramMiniApp","./Block":"Block","./BlockReady":"BlockReady"}],LoadingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"0d076ynxVpJ6Ys/SGfhiZtJ","LoadingLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("../manager/DataManager"),s=t("./Baselayer"),l=t("../StaticInstance"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadfill=null,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.update=function(){this.loadfill&&this.node.active&&(this.loadfill.fillRange=c.default.instance.loadingRate,c.default.instance.loadingRate>=1&&l.StaticInstance.uiManager.isActive(a.ENUM_UI_TYPE.MENU)&&this.hide())},r([f(cc.Sprite)],e.prototype,"loadfill",void 0),r([p],e)}(s.default);n.default=h,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/DataManager":"DataManager","./Baselayer":"Baselayer"}],LocalizationManager:[function(t,e,n){"use strict";cc._RF.push(e,"8002cBMSsVPfr/1dLyZzBZo","LocalizationManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.changeLanguage=function(t){cc.log("Language changed to: "+t),this.refreshUI()},t.prototype.refreshUI=function(){},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],LocalizedLabel:[function(t,e){"use strict";cc._RF.push(e,"9c296bQqAhEvaM8KpQoIwJL","LocalizedLabel");var n=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e){"use strict";cc._RF.push(e,"0d96bg6Lg5HL4eZMDEu7/Sv","LocalizedSprite");var n=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],LoseLayer:[function(t,e,n){"use strict";cc._RF.push(e,"b601bhCGWNK+ZoaczgoGYv3","LoseLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),p=t("./Baselayer"),f=t("../manager/SdkManager"),h=t("../manager/ToastManager"),d=t("../manager/DataManager"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnRevive=null,e.btnHome=null,e.tip=null,e.score=null,e.best_score=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnRevive=cc.find("buttons/btn_revive",this.panel),this.btnHome=cc.find("buttons/btn_home",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnRevive.on("click",this.onReviveClick,this),this.btnHome.on("click",this.onHomeClick,this),this.tip=cc.find("tip",this.panel),this.score=cc.find("score_panel/score",this.panel),this.best_score=cc.find("score_panel/best_score",this.panel)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnRevive.off("click",this.onReviveClick,this),this.btnHome.off("click",this.onHomeClick,this)},e.prototype.onEnable=function(){this.rendor()},e.prototype.onDisable=function(){},e.prototype.rendor=function(){this.score.getComponent(cc.Label).string=this.tip.getComponent(cc.Label).string=""+d.default.instance.score,this.best_score.getComponent(cc.Label).string=""+d.default.instance.scoreMax},e.prototype.onRestartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),d.default.instance.score=0,l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onReviveClick=function(){var t=this;u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.showVideoAd(function(){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return f.default.instance.getPlatform()||h.default.instance.show("Incentive simulation distribution",{gravity:"TOP",bg_color:cc.color(102,202,28,255)}),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},function(t){h.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})})},e.prototype.onHomeClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),d.default.instance.status=s.ENUM_GAME_STATUS.UNRUNING,l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.EXIT,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LOSE,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU)},r([_],e)}(p.default));n.default=y,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],MainLayer:[function(t,e,n){"use strict";cc._RF.push(e,"995d75Ra29EXY7A+cLQ/Mrd","MainLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("../manager/AudioManager"),s=t("../StaticInstance"),l=t("./Baselayer"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnPause=cc.find("btn_pause",this.node),this.btnPause.on("click",this.onPauseClick,this)},e.prototype.onDestroy=function(){this.btnPause.off("click",this.onPauseClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onPauseClick=function(){c.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.EXIT)},r([p],e)}(l.default));n.default=f,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../manager/AudioManager":"AudioManager","./Baselayer":"Baselayer"}],MenuLayer:[function(t,e,n){"use strict";cc._RF.push(e,"94d9eW2z5xN9KXMq6SiqvtZ","MenuLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),p=t("./Baselayer"),f=t("../manager/DataManager"),h=t("../api/controllers/AuthController"),d=cc._decorator,g=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.btnMain=null,e.btnLeaderboard=null,e.btnTasks=null,e.btnProfile=null,e.btnShop=null,e.labelCoinsAmount=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnStart=cc.find("main/btn_start",this.node),this.btnShop=cc.find("main/btn_coin_balance",this.node),this.labelCoinsAmount=cc.find("main/btn_coin_balance/coins_amount",this.node).getComponent(cc.Label),this.btnMain=cc.find("tabs_panel/btn_main",this.node),this.btnLeaderboard=cc.find("tabs_panel/btn_leader",this.node),this.btnTasks=cc.find("tabs_panel/btn_tasks",this.node),this.btnProfile=cc.find("tabs_panel/btn_profile",this.node),this.btnStart.on("click",this.onStartClick,this),this.btnMain.on("click",this.onMainClick,this),this.btnLeaderboard.on("click",this.onLeaderboardClick,this),this.btnTasks.on("click",this.onTasksClick,this),this.btnProfile.on("click",this.onProfileClick,this),this.btnShop.on("click",this.onShopClick,this)},e.prototype.onDestroy=function(){this.btnStart.off("click",this.onStartClick,this),this.btnMain.off("click",this.onMainClick,this),this.btnLeaderboard.off("click",this.onLeaderboardClick,this),this.btnTasks.off("click",this.onTasksClick,this),this.btnProfile.off("click",this.onProfileClick,this),this.btnShop.off("click",this.onShopClick,this)},e.prototype.onEnable=function(){var t,e=this;null===(t=h.UserController.Instance)||void 0===t||t.getUser().then(function(t){e.labelCoinsAmount.string=t.data.balance_stars.toString()}).catch(function(t){console.error("Failed to fetch user data:",t)})},e.prototype.onDisable=function(){},e.prototype.onStartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.mode=s.ENUM_GAME_MODE.SCORE,[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MAIN),f.default.instance.score=0,l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onMainClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU)},e.prototype.onLeaderboardClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.LEADERBOARD)},e.prototype.onTasksClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.TASKS)},e.prototype.onProfileClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.MENU,!1),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.PROFILE)},e.prototype.onShopClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.SHOP)},r([g],e)}(p.default));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../api/controllers/AuthController":"AuthController","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],Monetag:[function(t,e,n){"use strict";cc._RF.push(e,"f81f0iRbutO9rz3GiEkhHf1","Monetag");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MonetagController=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,new Promise(function(t,e){if(cc.sys.platform===cc.sys.MOBILE_BROWSER||cc.sys.platform===cc.sys.DESKTOP_BROWSER){var n=document.createElement("script");n.src="//niphaumeenses.net/vignette.min.js",n.dataset.zone="8721959",n.dataset.sdk="show_8721959",n.async=!0,n.onload=function(){t(!0)},n.onerror=function(){return e(new Error("Unable to load Monetag SDK, please check logs."))},document.head.appendChild(n)}})),l=function(){function t(){this._monetagJS=null}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){return i(this,void 0,Promise,function(){var t;return r(this,function(e){switch(e.label){case 0:return t=this,[4,s];case 1:return t._monetagJS=e.sent(),this._monetagJS?[2,Promise.resolve({success:!0})]:[2,Promise.resolve({success:!1})]}})})},t.prototype.showFullscreenAd=function(){window.show_8721959().then(function(){console.log("You have seen ad ad!")})},e=o([c("MonetagController")],t)}();n.MonetagController=l,cc._RF.pop()},{}],MoreLayer:[function(t,e,n){"use strict";cc._RF.push(e,"9152a3E4wFB0JCSs+5/fMuT","MoreLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),p=t("../manager/PoolManager"),f=t("../plugins/UIScrollControl"),h=t("../manager/ResourceManager"),d=t("../manager/SdkManager"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.scrollNode=null,e.scrollItem=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.scrollNode=cc.find("scroll",this.panel),this.scrollItem=p.default.instance.getNode("MoreItem"),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendor(),d.default.instance.toggleCustomRowAd(!0)},e.prototype.onDisable=function(){d.default.instance.toggleCustomRowAd(!1)},e.prototype.rendor=function(){var t=this,e=u.default.instance.games,n=!1;this.scrollNode.getComponent(f.default).init(this.scrollItem,e.length,cc.size(500,110),0,function(o,i){n||(n=!0,t.scrollNode.getComponent(cc.ScrollView).scrollToTop());var r=e[i];o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=h.default.instance.getSprite(""+r.icon),o.getChildByName("title").getComponent(cc.Label).string=""+r.title,o.hasEventListener("click")?(o.off("click"),o.on("click",function(){t.onItemClick(r)},t)):o.on("click",function(){t.onItemClick(r)},t)},function(t){t.scrollToTop()})},e.prototype.onItemClick=function(t){var e="";void 0===window.wx?e=t.url:(s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),e=t.appid),e&&d.default.instance.turnToApp(e)},e.prototype.onCloseClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MORE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},r([_],e)}(l.default));n.default=y,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/PoolManager":"PoolManager","../manager/ResourceManager":"ResourceManager","../manager/SdkManager":"SdkManager","../plugins/UIScrollControl":"UIScrollControl","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"a46f4A6CpBE04BZI8Amk1vE","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._dictPool={},this._dictPrefab={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.copyNode=function(t,e){var n=t.name;this._dictPrefab[n]=t;var o=null;if(this._dictPool.hasOwnProperty(n))o=(i=this._dictPool[n]).size()>0?i.get():cc.instantiate(t);else{var i=new cc.NodePool;this._dictPool[n]=i,o=cc.instantiate(t)}return e&&(o.parent=e,o.active=!0),o},t.prototype.getNode=function(t,e,n){var o,i;if("string"==typeof t){if(i=t,!(o=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",i),null}else o=t,i=t.data.name;var r=null;if(this._dictPool.hasOwnProperty(i))r=(a=this._dictPool[i]).size()>0?a.get():cc.instantiate(o);else{var a=new cc.NodePool;this._dictPool[i]=a,r=cc.instantiate(o)}return e&&(r.parent=e,r.active=!0,n&&(r.position=n)),r},t.prototype.putNode=function(t,e){if(void 0===e&&(e=!1),t){var n=t.name,o=null;this._dictPool.hasOwnProperty(n)?o=this._dictPool[n]:(o=new cc.NodePool,this._dictPool[n]=o),o.put(t)}},t.prototype.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},t.prototype.setPrefab=function(t,e){this._dictPrefab[t]=e},t.prototype.getPrefab=function(t){return this._dictPrefab[t]},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],ProfileLayer:[function(t,e,n){"use strict";cc._RF.push(e,"6c5f4/6mNRKcJkMGnBQS8TQ","ProfileLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../utils/AvatarLoader"),p=t("../telegram/TelegramMiniApp"),f=t("../api/controllers/AuthController"),h=cc._decorator,d=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatarNode=null,e.nameNode=null,e.btnSettings=null,e.btnTutorial=null,e.btnTryGame=null,e.btnSupport=null,e.btnPrivacy=null,e.btnMain=null,e.btnLeaderboard=null,e.btnTasks=null,e.btnProfile=null,e.btnOpenDisableAdsPopup=null,e.btnCloseDisableAdsPopup=null,e.btnBuyDisableAds=null,e.disableAdsPopup=null,e}return i(e,t),e.prototype.onLoad=function(){this.avatarNode=cc.find("main/panel_user/icon_back/icon",this.node),this.nameNode=cc.find("main/panel_user/username",this.node),this.btnSettings=cc.find("main/btn_settings",this.node),this.btnTutorial=cc.find("main/btns_group_1/btn_tutorial",this.node),this.btnTryGame=cc.find("main/btns_group_1/btn_try_game",this.node),this.btnSupport=cc.find("main/btns_group_2/btn_support",this.node),this.btnPrivacy=cc.find("main/btns_group_2/btn_policy",this.node),this.btnOpenDisableAdsPopup=cc.find("main/btn_no_ads",this.node),this.btnMain=cc.find("tabs_panel/btn_main",this.node),this.btnLeaderboard=cc.find("tabs_panel/btn_leader",this.node),this.btnTasks=cc.find("tabs_panel/btn_tasks",this.node),this.btnProfile=cc.find("tabs_panel/btn_profile",this.node),this.disableAdsPopup=cc.find("disable_ads_popup",this.node),this.btnCloseDisableAdsPopup=cc.find("disable_ads_popup/panel/btn_close",this.node),this.btnBuyDisableAds=cc.find("disable_ads_popup/panel/btn_yes",this.node),this.btnMain.on("click",this.onMainClick,this),this.btnLeaderboard.on("click",this.onLeaderboardClick,this),this.btnTasks.on("click",this.onTasksClick,this),this.btnProfile.on("click",this.onProfileClick,this),this.btnOpenDisableAdsPopup.on("click",this.onDisableAdsClickOpen,this),this.btnCloseDisableAdsPopup.on("click",this.onDisableAdsClickClose,this),this.btnBuyDisableAds.on("click",this.onBuyDisableAdsClick,this),this.btnSettings.on("click",this.onSettingsClick,this),this.btnTutorial.on("click",this.onTutorialClick,this),this.btnTryGame.on("click",this.onTryGameClick,this),this.btnSupport.on("click",this.onSupportClick,this),this.btnPrivacy.on("click",this.onPrivacyClick,this),u.default.loadTextureFromImage("https://t.me/i/userpic/320/2uptPMrsaIXViYtEoOWxkkLiDexwDDkQySVmeA8FsxU.svg",this.avatarNode.getComponent(cc.Sprite))},e.prototype.onDestroy=function(){this.btnMain.off("click",this.onMainClick,this),this.btnLeaderboard.off("click",this.onLeaderboardClick,this),this.btnTasks.off("click",this.onTasksClick,this),this.btnProfile.off("click",this.onProfileClick,this),this.btnOpenDisableAdsPopup.off("click",this.onDisableAdsClickOpen,this),this.btnCloseDisableAdsPopup.off("click",this.onDisableAdsClickClose,this),this.btnBuyDisableAds.off("click",this.onBuyDisableAdsClick,this),this.btnSettings.off("click",this.onSettingsClick,this),this.btnTutorial.off("click",this.onTutorialClick,this),this.btnTryGame.off("click",this.onTryGameClick,this),this.btnSupport.off("click",this.onSupportClick,this),this.btnPrivacy.off("click",this.onPrivacyClick,this)},e.prototype.onEnable=function(){var t,e=this;null===(t=f.UserController.Instance)||void 0===t||t.getUser().then(function(t){e.nameNode.getComponent(cc.Label).string="@"+t.data.username}).catch(function(t){console.error("Failed to fetch user data:",t)})},e.prototype.onDisable=function(){},e.prototype.onMainClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},e.prototype.onLeaderboardClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD)},e.prototype.onTasksClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS)},e.prototype.onProfileClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE)},e.prototype.onSettingsClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING)},e.prototype.onTutorialClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK)},e.prototype.onTryGameClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK)},e.prototype.onSupportClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK)},e.prototype.onPrivacyClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK)},e.prototype.onDisableAdsClickOpen=function(){var t,e=this;s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),null===(t=f.UserController.Instance)||void 0===t||t.getUser().then(function(t){t.data.is_premium||e.openDisableAdsPopup()}).catch(function(t){console.error("Failed to fetch user data:",t)})},e.prototype.onDisableAdsClickClose=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.disableAdsPopup.active=!1},e.prototype.openDisableAdsPopup=function(){this.disableAdsPopup.active=!0},e.prototype.onBuyDisableAdsClick=function(){var t,e=this;s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),null===(t=f.UserController.Instance)||void 0===t||t.postInvoicePremium().then(function(t){console.log(t.invoice_link),p.TelegramWebApp.Instance.openInvoice(t.invoice_link,function(t,n){"paid"===t&&(e.disableAdsPopup.active=!1),console.log("invoice callback"),console.log(t),console.log(n)})}).catch(function(t){console.error("Failed transaction:",t)})},r([d],e)}(l.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../api/controllers/AuthController":"AuthController","../manager/AudioManager":"AudioManager","../telegram/TelegramMiniApp":"TelegramMiniApp","../utils/AvatarLoader":"AvatarLoader","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],ResourceManager:[function(t,e,n){"use strict";cc._RF.push(e,"ab2a6CEvxhMQ77c3CMn4zMe","ResourceManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./DataManager"),a=t("./PoolManager"),c=function(){function t(){this.clipMap={},this.spriteMap={},this.jsonMap={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.loadRes=function(t,e){return void 0===e&&(e=0),o(this,void 0,void 0,function(){var e=this;return i(this,function(){return[2,new Promise(function(n,o){var i=r.default.instance.loadingRate;cc.resources.loadDir(t.path,t.content,function(e,n){if(t.ratio>0){var o=Math.floor(100*(i+t.ratio*e/n))/100;r.default.instance.loadingRate=Math.max(o,r.default.instance.loadingRate)}},function(i,r){var c;if(i&&o&&o(),"audio"==t.type)for(var s=0;s<r.length;s++)c=r[s],e.clipMap[c.name]||(e.clipMap[c.name]=c);if("prefab"==t.type)for(s=0;s<r.length;s++)c=r[s],a.default.instance.setPrefab(c.data.name,c);if("sprite"==t.type)for(s=0;s<r.length;s++)c=r[s],e.spriteMap[c.name]||(e.spriteMap[c.name]=c);if("json"==t.type)for(s=0;s<r.length;s++)c=r[s],e.jsonMap[c.name]||(e.jsonMap[c.name]=c.json);n&&n()})})]})})},t.prototype.getClip=function(t){return this.clipMap[t]},t.prototype.getSprite=function(t){return this.spriteMap[t]},t.prototype.getJson=function(t){return this.jsonMap[t]},t._instance=null,t}();n.default=c,cc._RF.pop()},{"./DataManager":"DataManager","./PoolManager":"PoolManager"}],SdkManager:[function(t,e,n){"use strict";cc._RF.push(e,"63001T9hINHxKQXF9QDpdaI","SdkManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Utils"),i=t("./AudioManager"),r=function(){function t(){this.shareTitle="This game is fun, do you dare to accept the challenge?",this.shareImg="",this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null,this.customRowId="",this.customRowAd=null,this.customColId="",this.customColAd=null,this.videoRecorder=null,this.videoRecordState=0,this.videoStartTime=null,this.videoRecordTime=120,this.videoPath=null,this.videoIsExist=0,this.videoTopics=[]}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getPlatform=function(){var t=null;return cc.sys.platform==cc.sys.WECHAT_GAME?t=window.wx:cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(t=window.tt),t},t.prototype.activeShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.shareAppMessage(t)):console.log("[Active sharing] Only supports mini game platforms!")},t.prototype.passiveShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(e.showShareMenu({success:function(){},fail:function(){}}),t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.onShareAppMessage(function(){return t})):console.log("[Passive sharing] Only supports mini game platforms!")},t.prototype.getShareQuery=function(t){var e=this.getPlatform();if(e){var n=e.getLaunchOptionsSync().query,o=null;return n&&n[t]&&(o=n[t]),o}console.log("[Get sharing parameters] Only supports mini-game platforms!")},t.prototype.turnToApp=function(t){if(""!=t){var e=this.getPlatform();e?e.navigateToMiniProgram({appId:t}):this.turnToBrowser(t)}},t.prototype.turnToBrowser=function(t){window.open(t)},t.prototype.initAudioEndListener=function(){void 0!==window.wx?window.wx.onAudioInterruptionEnd(function(){console.log("Audio interrupted, resume playback"),i.default.instance.playMusic()}):console.log("[Audio Interruption Monitoring] Only supports WeChat platform!")},t.prototype.initBannerAd=function(){var t=this,e=this.getPlatform();if(e)if(""!=this.bannerId){var n=e.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=e.createBannerAd({adUnitId:this.bannerId,adIntervals:30,style:{height:n.windowHeight-80,left:0,top:500,width:n.windowWidth}}),this.bannerAd.onResize(function(){t.bannerAd.style.top=n.windowHeight-t.bannerAd.style.realHeight,t.bannerAd.style.left=n.windowWidth/2-t.bannerAd.style.realWidth/2}),this.bannerAd.onError(function(){console.error("[Traffic main banner] Initialization error")}))}else console.log("[Traffic Master] Please configure banner advertising ID");else console.log("[Traffic main banner initialization] Only supports small game platforms!")},t.prototype.toggleBannerAd=function(t){this.getPlatform()?this.bannerAd&&(t?this.bannerAd.show():this.bannerAd.hide()):console.log("[Traffic main banner:"+t+"] only supports small game platforms!")},t.prototype.initInterstitialAd=function(){var t=this.getPlatform();t?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=t.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError(function(){console.error("[Traffic main screen] Initialization error")})):console.log("[Traffic Master] Please configure the interstitial advertising ID"):console.log("[Traffic main screen initialization] Only supports small game platforms!")},t.prototype.showInterstitialAd=function(){this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u52a0\u8f7d\u5931\u8d25")}):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initVideoAd=function(){var t=this.getPlatform();t?""!=this.videoId?null==this.videoAd&&(this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u521d\u59cb\u5316\u6709\u8bef")})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.showVideoAd=function(t,e){var n=this;return this.getPlatform()?this.videoAd?(this.videoAd.offClose(),this.videoAd.onClose(function(o){return n.videoAd.offClose(),o&&o.isEnded||void 0===o?t&&t("\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e"):e&&e("\u89c6\u9891\u64ad\u653e\u4e2d\u65ad")}),void this.videoAd.show().catch(function(){n.videoAd.load().then(function(){return n.videoAd.show()}).catch(function(){console.log("\u5e7f\u544a\u5c55\u793a\u5931\u8d25")})})):e&&e("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e"):t&&t("\u6a21\u62df\u6210\u529f\uff0c\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e")},t.prototype.initCustomRowAd=function(){var t=this.getPlatform();if(t)if(""!=this.customRowId){var e=t.getSystemInfoSync();null==this.customRowAd&&(this.customRowAd=t.createCustomAd({adUnitId:this.customRowId,adIntervals:30,style:{width:320,left:(e.screenWidth-320)/2,top:e.screenHeight-100,fixed:0}}),this.customRowAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u6a2a\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomRowAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customRowAd&&(t?this.customRowAd.show():this.customRowAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initCustomColAd=function(){var t=this.getPlatform();if(t)if(""!=this.customColId){var e=t.getSystemInfoSync();null==this.customColAd&&(this.customColAd=t.createCustomAd({adUnitId:this.customColId,adIntervals:30,style:{width:80,left:e.screenWidth-60,top:20,fixed:0}}),this.customColAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u7eb5\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u7eb5\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomColAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customColAd&&(t?this.customColAd.show():this.customColAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("\u3010\u83b7\u53d6\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.setRank=function(t){void 0!==window.wx?window.wx.postMessage({event:"setRank",data:t}):console.log("\u3010\u8bbe\u7f6e\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!",t)},t.prototype.recordingVideoStart=function(){var t=this;void 0!==window.tt?(this.videoRecorder=window.tt.getGameRecorderManager(),this.videoRecordState=1,this.videoIsExist=0,this.videoStartTime=Date.parse((new Date).toString()),this.videoRecorder.onStart(function(){}),this.videoRecorder.start({duration:this.videoRecordTime}),this.videoRecorder.onStop(function(e){t.videoRecordState=2,t.videoPath=e.videoPath}),this.videoRecorder.onError(function(){})):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoEnd=function(){void 0!==window.tt?this.videoRecorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.videoRecorder.stop()):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoShare=function(t,e){void 0!==window.tt?1!=this.videoIsExist?(this.videoRecordState=3,window.tt.shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:this.videoPath,videoTopics:this.videoTopics,createChallenge:!0},success:function(){t&&t()},fail:function(){e&&e()}})):console.log("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed"):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.isVideoExist=function(){return this.videoIsExist},t.prototype.getLoginCode=function(t){var e={status:!1,data:null,msg:"\u670d\u52a1\u5668\u5f02\u5e38"};window.wx.login({success:function(n){n.code?(e.status=!0,e.data=n.code,e.msg="\u6210\u529f\u83b7\u53d6code",t&&t(e)):t&&t(e)},fail:function(){t&&t(e)}})},t.prototype.getLoginInfo=function(t){if(void 0!==window.wx){var e={status:!1,data:null,msg:"Server exception"};window.wx.getSetting({success:function(n){if(n.authSetting["scope.userInfo"])window.wx.getUserInfo({success:function(n){var i=n.userInfo,r={openid:o.uuid(),nickname:i.nickName,gender:i.gender,avatar:i.avatarUrl};e.status=!0,e.data=r,e.msg="Authorized",t&&t(e)},fail:function(){t&&t(e)}});else{var i=window.wx.getSystemInfoSync(),r=i.screenWidth,a=i.screenHeight,c=window.wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:r,height:a,backgroundColor:"#00000000",color:"#ffffff",fontSize:20,textAlign:"center",lineHeight:a}});c.onTap(function(n){if(c.destroy(),n.userInfo){var i=n.userInfo,r={openid:o.uuid(),nickname:i.nickName,gender:i.gender,avatar:i.avatarUrl};e.status=!0,e.data=r,e.msg="Accept authorization",t&&t(e)}else e.msg="Deny authorization",t&&t(e)})}},fail:function(){t&&t(e)}})}else console.log("[Authorized login] Only supports WeChat platform!")},t.prototype.getLoginInfoLocal=function(t){var e={status:!0,data:null,msg:"Simulate user data"},n=""+(new Date).getTime();n="NO."+n.substring(n.length-4);var i={openid:o.uuid(),nickname:n,gender:0,avatar:""};e.data=i,t&&t(e)},t._instance=null,t}();n.default=r,cc._RF.pop()},{"../Utils":"Utils","./AudioManager":"AudioManager"}],SettingLayer:[function(t,e,n){"use strict";cc._RF.push(e,"1a0aacxZX5NJqNTuBy0vbq5","SettingLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../manager/DataManager"),p=t("../manager/SdkManager"),f=t("../manager/LocalizationManager"),h=cc._decorator,d=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnMusic=null,e.btnSound=null,e.btnLangUa=null,e.btnLangEn=null,e.btnLangDe=null,e.btnLangEs=null,e.btnMain=null,e.btnLeaderboard=null,e.btnTasks=null,e.btnProfile=null,e.toggleGroup=null,e.toggleContainer=null,e.toggleEN=null,e.toggleUK=null,e.toggleDE=null,e.toggleES=null,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.find("main/lang_selection/items",this.node);this.toggleGroup=t.getComponent(cc.ToggleGroup),this.toggleContainer=t.getComponent(cc.ToggleContainer),this.toggleUK=cc.find("toggle_lang_ua",t).getComponent(cc.Toggle),this.toggleEN=cc.find("toggle_lang_en",t).getComponent(cc.Toggle),this.toggleDE=cc.find("toggle_lang_de",t).getComponent(cc.Toggle),this.toggleES=cc.find("toggle_lang_es",t).getComponent(cc.Toggle),this.setupListeners(),this.toggleContainer.checkEvents,this.btnMusic=cc.find("main/btns_group_1/btn_music",this.node),this.btnSound=cc.find("main/btns_group_1/btn_sound",this.node),this.btnClose=cc.find("btn_close",this.node),this.btnMain=cc.find("tabs_panel/btn_main",this.node),this.btnLeaderboard=cc.find("tabs_panel/btn_leader",this.node),this.btnTasks=cc.find("tabs_panel/btn_tasks",this.node),this.btnProfile=cc.find("tabs_panel/btn_profile",this.node),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound.on("click",this.onSoundClick,this),this.btnClose.on("click",this.onCloseClick,this),this.btnMain.on("click",this.onMainClick,this),this.btnLeaderboard.on("click",this.onLeaderboardClick,this),this.btnTasks.on("click",this.onTasksClick,this),this.btnProfile.on("click",this.onProfileClick,this)},e.prototype.onDestroy=function(){this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this),this.btnClose.off("click",this.onCloseClick,this),this.btnMain.off("click",this.onMainClick,this),this.btnLeaderboard.off("click",this.onLeaderboardClick,this),this.btnTasks.off("click",this.onTasksClick,this),this.btnProfile.off("click",this.onProfileClick,this)},e.prototype.onEnable=function(){this.rendorMusic(),this.rendorSound(),p.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onCloseClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},e.prototype.onSoundClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isSoundOn=!u.default.instance.isSoundOn,u.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isMusicOn=!u.default.instance.isMusicOn,u.default.instance.save(),u.default.instance.isMusicOn?s.default.instance.playMusic():s.default.instance.stopMusic(),this.rendorMusic()},e.prototype.onMainClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},e.prototype.onLeaderboardClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD)},e.prototype.onTasksClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS)},e.prototype.onProfileClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.SETTING)},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=u.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!u.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=u.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!u.default.instance.isSoundOn},e.prototype.setupListeners=function(){this.toggleEN.node.on("toggle",function(){return f.default.instance.changeLanguage("en")}),this.toggleUK.node.on("toggle",function(){return f.default.instance.changeLanguage("uk")}),this.toggleDE.node.on("toggle",function(){return f.default.instance.changeLanguage("de")}),this.toggleES.node.on("toggle",function(){return f.default.instance.changeLanguage("es")})},r([d],e)}(l.default));n.default=g,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/LocalizationManager":"LocalizationManager","../manager/SdkManager":"SdkManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],ShopLayer:[function(t,e,n){"use strict";cc._RF.push(e,"3d75f+8dfNI/YTRRudgQHVq","ShopLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../api/controllers/AuthController"),l=t("../Enum"),u=t("../manager/AudioManager"),p=t("../StaticInstance"),f=t("../telegram/TelegramMiniApp"),h=t("./Baselayer"),d=cc._decorator,g=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_close=null,e.btn_shop_1=null,e.btn_shop_2=null,e.btn_shop_3=null,e.coins_amount_label=null,e}return i(e,t),e.prototype.onLoad=function(){this.btn_close=cc.find("btn_close",this.node),this.btn_shop_1=cc.find("layout/btn_buy_coins_1",this.node),this.btn_shop_2=cc.find("layout/btn_buy_coins_2",this.node),this.btn_shop_3=cc.find("layout/btn_buy_coins_3",this.node),this.coins_amount_label=cc.find("coin_balance/coins_amount",this.node).getComponent(cc.Label),this.btn_close.on("click",this.onBackClick,this),this.btn_shop_1.on("click",this.onBuyPack1Click,this),this.btn_shop_2.on("click",this.onBuyPack2Click,this),this.btn_shop_3.on("click",this.onBuyPack3Click,this)},e.prototype.onDestroy=function(){this.btn_close.off("click",this.onBackClick,this),this.btn_shop_1.off("click",this.onBuyPack1Click,this),this.btn_shop_2.off("click",this.onBuyPack2Click,this),this.btn_shop_3.off("click",this.onBuyPack3Click,this)},e.prototype.onEnable=function(){this.fetchCoins()},e.prototype.onDisable=function(){},e.prototype.onBackClick=function(){u.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),p.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.SHOP,!1)},e.prototype.onBuyPack1Click=function(){this.buyCoinsForStars(1)},e.prototype.onBuyPack2Click=function(){this.buyCoinsForStars(100)},e.prototype.onBuyPack3Click=function(){this.buyCoinsForStars(500)},e.prototype.buyCoinsForStars=function(t){var e,n=this;u.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),null===(e=s.UserController.Instance)||void 0===e||e.postInvoiceStars(t).then(function(t){console.log(t.invoice_link),f.TelegramWebApp.Instance.openInvoice(t.invoice_link,function(t,e){console.log("invoice callback"),console.log(t),console.log(e),n.fetchCoins()})}).catch(function(t){console.error("Failed transaction:",t),n.fetchCoins()})},e.prototype.buyRemoveAds=function(){var t,e=this;u.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),null===(t=s.UserController.Instance)||void 0===t||t.postInvoicePremium().then(function(t){console.log(t.invoice_link),f.TelegramWebApp.Instance.openInvoice(t.invoice_link,function(t,n){console.log("invoice callback"),console.log(t),console.log(n),e.fetchCoins()})}).catch(function(t){console.error("Failed transaction:",t),e.fetchCoins()})},e.prototype.fetchCoins=function(){var t,e=this;null===(t=s.UserController.Instance)||void 0===t||t.getUser().then(function(t){e.coins_amount_label.string=t.data.balance_stars.toString()}).catch(function(t){console.error("Failed to fetch user data:",t)})},e.prototype.fetchPremiumStatus=function(){var t;return a(this,void 0,Promise,function(){return c(this,function(e){switch(e.label){case 0:return[4,null===(t=s.UserController.Instance)||void 0===t?void 0:t.getUser()];case 1:return[2,e.sent().data.is_premium]}})})},r([g],e)}(h.default));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../StaticInstance":"StaticInstance","../api/controllers/AuthController":"AuthController","../manager/AudioManager":"AudioManager","../telegram/TelegramMiniApp":"TelegramMiniApp","./Baselayer":"Baselayer"}],SizeFitter:[function(t,e,n){"use strict";cc._RF.push(e,"9c4b5OdJTND/b4T7x1wpFQG","SizeFitter");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fitWidht=!0,e.fitHeight=!0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;cc.view.setResizeCallback(function(){return t.fit()}),this.fit()},e.prototype.fit=function(){var t=this.node.getComponent(cc.Canvas),e=cc.view.getDesignResolutionSize(),n=cc.view.getFrameSize(),o=e.width/e.height,i=n.width/n.height;if(i>o){t.fitWidth=!0,t.fitHeight=!1;var r=e.height*i;t.designResolution=cc.size(r,e.height)}else t.fitWidth=!1,t.fitHeight=!0},r([s({type:cc.Boolean,displayName:"Fit Widht"})],e.prototype,"fitWidht",void 0),r([s({type:cc.Boolean,displayName:"Fit Height"})],e.prototype,"fitHeight",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],SpriteFrameSet:[function(t,e){"use strict";cc._RF.push(e,"da5978SK1JGIYZoLgx0XI6k","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=n,cc._RF.pop()},{}],StaticInstance:[function(t,e,n){"use strict";cc._RF.push(e,"93f9fIyowFCpoTxHvXyssyM","StaticInstance"),Object.defineProperty(n,"__esModule",{value:!0}),n.StaticInstance=void 0;var o=function(){function t(){}return t.setUIManager=function(e){t.uiManager=e},t.setGameManager=function(e){t.gameManager=e},t.setFadeManager=function(e){t.fadeManager=e},t.uiManager=void 0,t.gameManager=void 0,t.fadeManager=void 0,t}();n.StaticInstance=o,cc._RF.pop()},{}],TasksLayer:[function(t,e,n){"use strict";cc._RF.push(e,"ba34dVOsFJKHLme7TZcpt1d","TasksLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enum"),c=t("./../StaticInstance"),s=t("../manager/AudioManager"),l=t("./Baselayer"),u=t("../telegram/TelegramMiniApp"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dailyPanel=null,e.invitePanel=null,e.btnDailyTab=null,e.btnInviteTab=null,e.btnInviteFriend=null,e.btnMain=null,e.btnLeaderboard=null,e.btnTasks=null,e.btnProfile=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnMain=cc.find("tabs_panel/btn_main",this.node),this.btnLeaderboard=cc.find("tabs_panel/btn_leader",this.node),this.btnTasks=cc.find("tabs_panel/btn_tasks",this.node),this.btnProfile=cc.find("tabs_panel/btn_profile",this.node),this.btnMain.on("click",this.onMainClick,this),this.btnLeaderboard.on("click",this.onLeaderboardClick,this),this.btnTasks.on("click",this.onTasksClick,this),this.btnProfile.on("click",this.onProfileClick,this),this.dailyPanel=cc.find("daily",this.node),this.invitePanel=cc.find("invite",this.node),this.btnDailyTab=cc.find("btn_tab_daily",this.invitePanel),this.btnInviteTab=cc.find("btn_tab_invite",this.dailyPanel),this.btnInviteFriend=cc.find("main/task_item/panel/btn_invite",this.invitePanel),this.btnDailyTab.on("click",this.onTabDailyClick,this),this.btnInviteTab.on("click",this.onTabInviteClick,this),this.btnInviteFriend.on("click",this.onInviteFriendClick,this)},e.prototype.onDestroy=function(){this.btnMain.off("click",this.onMainClick,this),this.btnLeaderboard.off("click",this.onLeaderboardClick,this),this.btnTasks.off("click",this.onTasksClick,this),this.btnProfile.off("click",this.onProfileClick,this),this.btnDailyTab.off("click",this.onTabDailyClick,this),this.btnInviteTab.off("click",this.onTabInviteClick,this),this.btnInviteFriend.off("click",this.onInviteFriendClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onTabDailyClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.dailyPanel.active=!0,this.invitePanel.active=!1},e.prototype.onTabInviteClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),this.dailyPanel.active=!1,this.invitePanel.active=!0},e.prototype.onInviteFriendClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),u.TelegramWebApp.Instance.shareReferral()},e.prototype.onMainClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU)},e.prototype.onLeaderboardClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD)},e.prototype.onTasksClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS)},e.prototype.onProfileClick=function(){s.default.instance.playSound(a.ENUM_AUDIO_CLIP.CLICK),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.MENU,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.LEADERBOARD,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.TASKS,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE,!1),c.StaticInstance.uiManager.toggle(a.ENUM_UI_TYPE.PROFILE)},r([f],e)}(l.default));n.default=h,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../telegram/TelegramMiniApp":"TelegramMiniApp","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],TelegramMiniApp:[function(t,e,n){"use strict";cc._RF.push(e,"9229f+Q469A1p6h4+PzZz76","TelegramMiniApp");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TelegramWebApp=void 0;var a=cc._decorator,c=a.ccclass,s=(a.property,new Promise(function(t,e){if(cc.sys.platform===cc.sys.MOBILE_BROWSER||cc.sys.platform===cc.sys.DESKTOP_BROWSER){var n=document.createElement("script");n.src="https://telegram.org/js/telegram-web-app.js",n.async=!0,n.onload=function(){var e=setInterval(function(){window.Telegram&&window.Telegram.WebApp&&(t(window.Telegram.WebApp),clearInterval(e))},100)},n.onerror=function(){return e(new Error("Unable to load TelegramWebApp SDK, please check logs."))},document.head.appendChild(n)}})),l=function(){function t(){this._tgWebAppJS=null}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){return i(this,void 0,Promise,function(){var t;return r(this,function(e){switch(e.label){case 0:return t=this,[4,s];case 1:return t._tgWebAppJS=e.sent(),this._tgWebAppJS?[2,Promise.resolve({success:!0})]:[2,Promise.resolve({success:!1})]}})})},t.prototype.openTelegramLink=function(t){this._tgWebAppJS?this._tgWebAppJS.openTelegramLink(t):console.error("telegram web app is not inited!")},t.prototype.share=function(t,e){var n="https://t.me/share/url?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(e||"");this.openTelegramLink(n)},t.prototype.shareToStory=function(t,e,n,o){if(this._tgWebAppJS){var i={text:e,widget_link:{url:n,name:o}};this._tgWebAppJS.shareToStory(t,i)}else console.error("telegram web app is not inited!")},t.prototype.shareReferral=function(){if(this._tgWebAppJS){var t="https://t.me/blockdock_dev_bot/game?startapp="+this.getTelegramUser().id;this.share(t,"\ud83d\udd17 Try to beat my top score!")}else console.error("telegram web app is not inited!")},t.prototype.getTelegramWebApp=function(){return this._tgWebAppJS},t.prototype.getTelegramWebAppInitData=function(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe:(console.error("telegram web app is not inited!"),null)},t.prototype.getTelegramUser=function(){return this._tgWebAppJS?this._tgWebAppJS.initDataUnsafe.user:(console.error("telegram web app is not inited!"),null)},t.prototype.getTelegramInitData=function(){return this._tgWebAppJS?this._tgWebAppJS.initData:(console.error("telegram web app is not inited!"),null)},t.prototype.openInvoice=function(t,e){if(!this._tgWebAppJS)return console.error("telegram web app is not inited!"),null;this._tgWebAppJS.openInvoice(t,e)},t.prototype.alert=function(t){this._tgWebAppJS.showAlert(t)},t.prototype.hapticLightImpact=function(){this._tgWebAppJS.HapticFeedback.impactOccurred("light")},t.prototype.hapticMediumImpact=function(){this._tgWebAppJS.HapticFeedback.impactOccurred("medium")},t.prototype.hapticHeavyImpact=function(){this._tgWebAppJS.HapticFeedback.impactOccurred("heavy")},t.prototype.hapticSuccesNotification=function(){this._tgWebAppJS.HapticFeedback.notificationOccurred("success")},t.prototype.hapticErrorNotification=function(){this._tgWebAppJS.HapticFeedback.notificationOccurred("error")},e=o([c("TelegramWebApp")],t)}();n.TelegramWebApp=l,cc._RF.pop()},{}],TestManager:[function(t,e,n){"use strict";cc._RF.push(e,"900deiiDCNEobHxTxzwIKCu","TestManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TestManager=void 0;var r=function(){function t(t){this.apiClient=t}return t.prototype.getTest=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("test/123")]})})},t.prototype.postTest=function(){return o(this,void 0,Promise,function(){var t;return i(this,function(){return t={id:1,text:"Hello, world!"},[2,this.apiClient.post("test/",t)]})})},t.prototype.getLeaderboard=function(){return o(this,void 0,Promise,function(){return i(this,function(){return[2,this.apiClient.get("user/leaderboard/226496203")]})})},t.Instance=null,t}();n.TestManager=r,cc._RF.pop()},{}],TestModel:[function(t,e,n){"use strict";cc._RF.push(e,"c7c22ZXyk1Ii4ewUBUFgLdg","TestModel"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ToastManager:[function(t,e,n){"use strict";cc._RF.push(e,"65526wGEY1OtL0HXs6ylAE2","ToastManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.show=function(t,e){void 0===t&&(t="");var n=void 0===e?{}:e,o=n.gravity,i=void 0===o?"CENTER":o,r=n.duration,a=void 0===r?1:r,c=n.bg_color,s=void 0===c?cc.color(102,102,102,200):c,l=cc.director.getScene().getComponentInChildren(cc.Canvas),u=l.node.width,p=l.node.height,f=new cc.Node;f.group="ui";var h=new cc.Node,d=h.addComponent(cc.Label);d.horizontalAlign=cc.Label.HorizontalAlign.CENTER,d.verticalAlign=cc.Label.VerticalAlign.CENTER,d.fontSize=30,d.string=t,t.length*d.fontSize>3*u/5?(h.width=3*u/5,d.overflow=cc.Label.Overflow.RESIZE_HEIGHT):h.width=t.length*d.fontSize;var g=1+~~(t.length*d.fontSize/(3*u/5));h.height=d.fontSize*g;var _=f.addComponent(cc.Graphics);_.arc(-h.width/2,0,h.height/2+20,.5*Math.PI,1.5*Math.PI,!0),_.lineTo(h.width/2,-(h.height/2+20)),_.arc(h.width/2,0,h.height/2+20,1.5*Math.PI,.5*Math.PI,!0),_.lineTo(-h.width/2,h.height/2+20),_.fillColor=s,_.fill(),f.addChild(h),"CENTER"===i?(f.y=0,f.x=0):"TOP"===i?f.y=f.y+p/5*2:"BOTTOM"===i&&(f.y=f.y-p/5*2),l.node.addChild(f);var y=cc.callFunc(function(){f.destroy()}),b=cc.sequence(cc.moveBy(a,cc.v2(0,0)),cc.fadeOut(.3),y);cc.tween(f).then(b).start()},t._instance=null,t}();n.default=o,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"d8b44067ShG7IzfSj2CqGMD","UIManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Enum"),c=t("./../StaticInstance"),s=t("./PoolManager"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiMap=new Map,e}return i(e,t),e.prototype.onLoad=function(){c.StaticInstance.setUIManager(this)},e.prototype.init=function(){for(var t in a.ENUM_UI_TYPE){var e=s.default.instance.getNode(a.ENUM_UI_TYPE[t],this.node);e&&!this.uiMap.has(a.ENUM_UI_TYPE[t])&&(e.active=!1,e.addComponent(a.ENUM_UI_TYPE[t]),this.uiMap.set(a.ENUM_UI_TYPE[t],e.getComponent(a.ENUM_UI_TYPE[t])))}},e.prototype.toggle=function(t,e,n){if(void 0===e&&(e=!0),this.uiMap.has(t)){var o=this.uiMap.get(t);e?o.show():o.hide(),n&&n()}},e.prototype.isActive=function(t){return!!this.uiMap.has(t)&&this.uiMap.get(t).node.active},e.prototype.getActiveTypes=function(){var t=this,e=[];return this.uiMap.forEach(function(n,o){t.isActive(o)&&e.push(o)}),e},r([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./../Enum":"Enum","./../StaticInstance":"StaticInstance","./PoolManager":"PoolManager"}],UIScrollControl:[function(t,e,n){"use strict";cc._RF.push(e,"e6235MOwRpI+bzS2hVblkfN","UIScrollControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ENUM_SCROLL_DIR=void 0;var a,c=cc._decorator,s=c.ccclass;c.property,function(t){t[t.V=0]="V",t[t.H=1]="H"}(a=n.ENUM_SCROLL_DIR||(n.ENUM_SCROLL_DIR={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.contentSize=null,e.scrollDirection=a.V,e.totalCount=0,e.itemCount=0,e.childrenList=[],e.itemDistance=0,e.contentSizeStart=null,e.isStartFlag=!1,e.theMaxID=0,e.refreshCB=null,e}return i(e,t),e.prototype.init=function(t,e,n,o,i,r){if(i&&(this.refreshCB=i),0==this.isStartFlag){if(this.scrollView=this.node.getComponent(cc.ScrollView),null==this.scrollView||null==this.scrollView.content)return;this.scrollView.content.parent.setAnchorPoint(cc.v2(.5,.5));var c=this.scrollView.content.parent.getComponent(cc.Widget);null==c&&(c=this.scrollView.content.parent.addComponent(cc.Widget)),c.isAlignLeft=!0,c.left=0,c.isAlignRight=!0,c.right=0,c.isAlignTop=!0,c.top=0,c.isAlignBottom=!0,c.bottom=0,this.contentSize=new cc.Size(this.scrollView.node.getContentSize()),this.scrollView.content.setContentSize(this.contentSize),this.contentSizeStart=this.scrollView.content.getContentSize()}if(null!=t){if(this.scrollView.content.setContentSize(this.contentSizeStart),this.clear(),this.totalCount=e,this.scrollDirection=o,o==a.V){this.scrollView.content.setAnchorPoint(cc.v2(.5,1)),this.scrollView.content.setContentSize(cc.size(this.contentSizeStart.width,this.totalCount*n.height)),this.scrollView.content.setPosition(cc.v2(0,-this.totalCount*n.height/2));var s=Math.floor(this.contentSizeStart.height/n.height);this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.height}else o==a.H&&(this.scrollView.content.setAnchorPoint(cc.v2(0,.5)),this.scrollView.content.setContentSize(cc.size(this.totalCount*n.width,this.contentSizeStart.height)),this.scrollView.content.setPosition(cc.v2(this.totalCount*n.width/2,0)),s=Math.floor(this.contentSizeStart.width/n.width),this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=n.width);if(this.scrollView.scrollEvents.length<=0){var l=new cc.Component.EventHandler;l.target=this.node,l.component="UIScrollControl",l.handler="OnScroll",this.scrollView.scrollEvents.push(l)}this.isStartFlag,this.theMaxID=0,this.initShowAreaItems(t,r)}},e.prototype.clear=function(){this.scrollView.content.removeAllChildren(),this.childrenList=[]},e.prototype.initShowAreaItems=function(t,e){for(var n=0;n<this.itemCount;n++){var o=cc.v2(0,0),i=cc.instantiate(t);this.scrollView.content.addChild(i),i.active=!0,i.opacity=255,this.scrollDirection==a.V?o.y=-this.itemDistance/2-this.itemDistance*n:this.scrollDirection==a.H&&(o.x=this.itemDistance/2+this.itemDistance*n),i.name="cell_"+n,i.setAnchorPoint(cc.v2(.5,.5)),i.setPosition(o),this.onRefresh(i,n,n),this.childrenList.push(i)}e&&e(this.scrollView)},e.prototype.OnScroll=function(){var t=this.scrollView.getScrollOffset(),e=0;this.scrollDirection==a.V?e=t.y:this.scrollDirection==a.H&&(e=-t.x),this.refreshLayout(e)},e.prototype.refreshLayout=function(t){var e=t,n=this.totalCount*this.itemDistance;if(!(e<0||e+this.contentSize.height>=n)){for(var o=0,i=Math.floor(e/this.itemDistance),r=0;r<this.itemCount;r++){var a=this.childrenList[r];o=i+r,this.refreshItem(o,r,a)}this.theMaxID=i+this.itemCount}},e.prototype.refreshItem=function(t,e,n){if(!(t<0||t>=this.totalCount)&&null!=n){var o=cc.Vec2.ZERO;this.scrollDirection==a.H?o.x=this.itemDistance/2+this.itemDistance*t:this.scrollDirection==a.V&&(o.y=-this.itemDistance/2-this.itemDistance*t),n.setPosition(o),this.onRefresh(n,t,e)}},e.prototype.onRefresh=function(t,e,n){null!=this.refreshCB&&this.refreshCB(t,e,n)},r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"1ccc3Pa3fdGUJUnDiya6JDg","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.uuid=n.wxAvatar=n.toXY=n.getAngle=n.getDistance=n.formatSeconds=n.sortSpriteNameByNum=n.sort=n.shuffle=n.random=n.vibrate=void 0,n.vibrate=function(){navigator.vibrate&&navigator.vibrate(100)},n.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},n.shuffle=function(t){for(var e,n,o=t.length;o;)n=t[e=Math.floor(Math.random()*o--)],t[e]=t[o],t[o]=n;return t},n.sort=function(t,e,n){if(void 0===n&&(n=!0),t instanceof Array)return t.sort(function(t,o){return t[e]>o[e]?n?1:-1:t[e]<o[e]?n?-1:1:0})},n.sortSpriteNameByNum=function(t){var e=function(t){return parseInt(t.match(/\d+/g)[0]||"0")};return t.sort(function(t,n){return e(t.name)-e(n.name)})},n.formatSeconds=function(t,e){void 0===e&&(e="h:i:s"),t=Number(t);var n={};return n.h=Number.parseInt(String(t/3600)),n.i=Number.parseInt(String((t-3600*n.h)/60)),n.s=Number.parseInt(String(t-3600*n.h-60*n.i)),n.h<10&&(n.h="0"+n.h),n.i<10&&(n.i="0"+n.i),n.s<10&&(n.s="0"+n.s),e.replace("h",n.h).replace("i",n.i).replace("s",n.s)},n.getDistance=function(t,e){var n=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(n.x*n.x+n.y*n.y)},n.getAngle=function(t,e){var n=e.x-t.x,o=e.y-t.y;return-cc.v2(n,o).signAngle(cc.v2(1,0))/Math.PI*180},n.toXY=function(t,e){var n=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(n)},n.wxAvatar=function(t,e){if(void 0===e&&(e=!0),e)t+="?sail.jpg";else{var n=(new Date).getTime();t+="?sail="+n+".jpg"}return new Promise(function(e,n){cc.loader.load(t,function(t,o){t&&n&&n(),e&&e(o)})})},n.uuid=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})},cc._RF.pop()},{}],WinLayer:[function(t,e,n){"use strict";cc._RF.push(e,"38aca0oW05L14APgJWH0shJ","WinLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enum"),l=t("./../StaticInstance"),u=t("../manager/AudioManager"),p=t("./Baselayer"),f=t("../manager/SdkManager"),h=t("../manager/ToastManager"),d=cc._decorator,g=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnNext=null,e.btnShare=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnNext=cc.find("buttons/btn_next",this.panel),this.btnShare=cc.find("buttons/btn_share",this.panel),this.btnNext.on("click",this.onNextClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnNext.off("click",this.onNextClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),f.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){f.default.instance.toggleBannerAd(!1)},e.prototype.onNextClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),[4,l.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),l.StaticInstance.uiManager.toggle(s.ENUM_UI_TYPE.WIN,!1),l.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onShareClick=function(){u.default.instance.playSound(s.ENUM_AUDIO_CLIP.CLICK),f.default.instance.getPlatform()?f.default.instance.activeShare():h.default.instance.show("Only supports small game platforms",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},r([g],e)}(p.default));n.default=_,cc._RF.pop()},{"../Enum":"Enum","../manager/AudioManager":"AudioManager","../manager/SdkManager":"SdkManager","../manager/ToastManager":"ToastManager","./../StaticInstance":"StaticInstance","./Baselayer":"Baselayer"}],axios:[function(t,e,n){(function(t){"use strict";var o,i;cc._RF.push(e,"496d75gw5FPjKnY8HdCwhal","axios"),o=window,i=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./index.js")}({"./index.js":function(t,e,n){t.exports=n("./lib/axios.js")},"./lib/adapters/xhr.js":function(t,e,n){var o=n("./lib/utils.js"),i=n("./lib/core/settle.js"),r=n("./lib/helpers/cookies.js"),a=n("./lib/helpers/buildURL.js"),c=n("./lib/core/buildFullPath.js"),s=n("./lib/helpers/parseHeaders.js"),l=n("./lib/helpers/isURLSameOrigin.js"),u=n("./lib/core/createError.js");t.exports=function(t){return new Promise(function(e,n){var p=t.data,f=t.headers,h=t.responseType;o.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.Authorization="Basic "+btoa(g+":"+_)}var y=c(t.baseURL,t.url);function b(){if(d){var o="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:h&&"text"!==h&&"json"!==h?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:o,config:t,request:d};i(e,n,r),d=null}}if(d.open(t.method.toUpperCase(),a(y,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,"onloadend"in d?d.onloadend=b:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(b)},d.onabort=function(){d&&(n(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},o.isStandardBrowserEnv()){var m=(t.withCredentials||l(y))&&t.xsrfCookieName?r.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}"setRequestHeader"in d&&o.forEach(f,function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),o.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),h&&"json"!==h&&(d.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),n(t),d=null)}),p||(p=null),d.send(p)})}},"./lib/axios.js":function(t,e,n){var o=n("./lib/utils.js"),i=n("./lib/helpers/bind.js"),r=n("./lib/core/Axios.js"),a=n("./lib/core/mergeConfig.js");function c(t){var e=new r(t),n=i(r.prototype.request,e);return o.extend(n,r.prototype,e),o.extend(n,e),n}var s=c(n("./lib/defaults.js"));s.Axios=r,s.create=function(t){return c(a(s.defaults,t))},s.Cancel=n("./lib/cancel/Cancel.js"),s.CancelToken=n("./lib/cancel/CancelToken.js"),s.isCancel=n("./lib/cancel/isCancel.js"),s.all=function(t){return Promise.all(t)},s.spread=n("./lib/helpers/spread.js"),s.isAxiosError=n("./lib/helpers/isAxiosError.js"),t.exports=s,t.exports.default=s},"./lib/cancel/Cancel.js":function(t){function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},"./lib/cancel/CancelToken.js":function(t,e,n){var o=n("./lib/cancel/Cancel.js");function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new o(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},"./lib/cancel/isCancel.js":function(t){t.exports=function(t){return!(!t||!t.__CANCEL__)}},"./lib/core/Axios.js":function(t,e,n){var o=n("./lib/utils.js"),i=n("./lib/helpers/buildURL.js"),r=n("./lib/core/InterceptorManager.js"),a=n("./lib/core/dispatchRequest.js"),c=n("./lib/core/mergeConfig.js"),s=n("./lib/helpers/validator.js"),l=s.validators;function u(t){this.defaults=t,this.interceptors={request:new r,response:new r}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=c(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&s.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var i,r=[];if(this.interceptors.response.forEach(function(t){r.push(t.fulfilled,t.rejected)}),!o){var u=[a,void 0];for(Array.prototype.unshift.apply(u,n),u.concat(r),i=Promise.resolve(t);u.length;)i=i.then(u.shift(),u.shift());return i}for(var p=t;n.length;){var f=n.shift(),h=n.shift();try{p=f(p)}catch(d){h(d);break}}try{i=a(p)}catch(d){return Promise.reject(d)}for(;r.length;)i=i.then(r.shift(),r.shift());return i},u.prototype.getUri=function(t){return t=c(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(c(n||{},{method:t,url:e,data:(n||{}).data}))}}),o.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,o){return this.request(c(o||{},{method:t,url:e,data:n}))}}),t.exports=u},"./lib/core/InterceptorManager.js":function(t,e,n){var o=n("./lib/utils.js");function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},"./lib/core/buildFullPath.js":function(t,e,n){var o=n("./lib/helpers/isAbsoluteURL.js"),i=n("./lib/helpers/combineURLs.js");t.exports=function(t,e){return t&&!o(e)?i(t,e):e}},"./lib/core/createError.js":function(t,e,n){var o=n("./lib/core/enhanceError.js");t.exports=function(t,e,n,i,r){var a=new Error(t);return o(a,e,n,i,r)}},"./lib/core/dispatchRequest.js":function(t,e,n){var o=n("./lib/utils.js"),i=n("./lib/core/transformData.js"),r=n("./lib/cancel/isCancel.js"),a=n("./lib/defaults.js");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(c(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"./lib/core/enhanceError.js":function(t){t.exports=function(t,e,n,o,i){return t.config=e,n&&(t.code=n),t.request=o,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"./lib/core/mergeConfig.js":function(t,e,n){var o=n("./lib/utils.js");t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function s(t,e){return o.isPlainObject(t)&&o.isPlainObject(e)?o.merge(t,e):o.isPlainObject(e)?o.merge({},e):o.isArray(e)?e.slice():e}function l(i){o.isUndefined(e[i])?o.isUndefined(t[i])||(n[i]=s(void 0,t[i])):n[i]=s(t[i],e[i])}o.forEach(i,function(t){o.isUndefined(e[t])||(n[t]=s(void 0,e[t]))}),o.forEach(r,l),o.forEach(a,function(i){o.isUndefined(e[i])?o.isUndefined(t[i])||(n[i]=s(void 0,t[i])):n[i]=s(void 0,e[i])}),o.forEach(c,function(o){o in e?n[o]=s(t[o],e[o]):o in t&&(n[o]=s(void 0,t[o]))});var u=i.concat(r).concat(a).concat(c),p=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===u.indexOf(t)});return o.forEach(p,l),n}},"./lib/core/settle.js":function(t,e,n){var o=n("./lib/core/createError.js");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(o("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"./lib/core/transformData.js":function(t,e,n){var o=n("./lib/utils.js"),i=n("./lib/defaults.js");t.exports=function(t,e,n){var r=this||i;return o.forEach(n,function(n){t=n.call(r,t,e)}),t}},"./lib/defaults.js":function(e,n,o){var i=o("./lib/utils.js"),r=o("./lib/helpers/normalizeHeaderName.js"),a=o("./lib/core/enhanceError.js"),c={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?l=o("./lib/adapters/xhr.js"):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(l=o("./lib/adapters/xhr.js")),l),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),JSON.stringify(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(r){if("SyntaxError"===c.name)throw a(c,this,"E_JSON_PARSE");throw c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(c)}),e.exports=u},"./lib/helpers/bind.js":function(t){t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(e,n)}}},"./lib/helpers/buildURL.js":function(t,e,n){var o=n("./lib/utils.js");function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(o.isURLSearchParams(e))r=e.toString();else{var a=[];o.forEach(e,function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),r=a.join("&")}if(r){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},"./lib/helpers/combineURLs.js":function(t){t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"./lib/helpers/cookies.js":function(t,e,n){var o=n("./lib/utils.js");t.exports=o.isStandardBrowserEnv()?{write:function(t,e,n,i,r,a){var c=[];c.push(t+"="+encodeURIComponent(e)),o.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),o.isString(i)&&c.push("path="+i),o.isString(r)&&c.push("domain="+r),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){if(!document.cookie)return null;var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./lib/helpers/isAbsoluteURL.js":function(t){t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"./lib/helpers/isAxiosError.js":function(t){t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},"./lib/helpers/isURLSameOrigin.js":function(t,e,n){var o=n("./lib/utils.js");t.exports=o.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");if(!n.pathname)return function(){return!0};function i(t){var o=t;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=o.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"./lib/helpers/normalizeHeaderName.js":function(t,e,n){var o=n("./lib/utils.js");t.exports=function(t,e){o.forEach(t,function(n,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[o])})}},"./lib/helpers/parseHeaders.js":function(t,e,n){var o=n("./lib/utils.js"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,a={};return t?(o.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=o.trim(t.substr(0,r)).toLowerCase(),n=o.trim(t.substr(r+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},"./lib/helpers/spread.js":function(t){t.exports=function(t){return function(e){return t.apply(null,e)}}},"./lib/helpers/validator.js":function(t,e,n){var o=n("./package.json"),i={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var r={},a=o.version.split(".");function c(t,e){for(var n=e?e.split("."):a,o=t.split("."),i=0;i<3;i++){if(n[i]>o[i])return!0;if(n[i]<o[i])return!1}return!1}i.transitional=function(t,e,n){var i=e&&c(e);function a(t,e){return"[Axios v"+o.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,o,c){if(!1===t)throw new Error(a(o," has been removed in "+e));return i&&!r[o]&&(r[o]=!0,console.warn(a(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,c)}},t.exports={isOlderVersion:c,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var o=Object.keys(t),i=o.length;i-- >0;){var r=o[i],a=e[r];if(a){var c=t[r],s=void 0===c||a(c,r,t);if(!0!==s)throw new TypeError("option "+r+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:i}},"./lib/utils.js":function(t,e,n){var o=n("./lib/helpers/bind.js"),i=Object.prototype.toString;function r(t){return"[object Array]"===i.call(t)}function a(t){return void 0===t}function c(t){return null!==t&&"object"==typeof t}function s(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:l,isStream:function(t){return c(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,o){s(e[o])&&s(n)?e[o]=t(e[o],n):s(n)?e[o]=t({},n):r(n)?e[o]=n.slice():e[o]=n}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],n);return e},extend:function(t,e,n){return u(e,function(e,i){t[i]=n&&"function"==typeof e?o(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},"./package.json":function(t){t.exports=JSON.parse('{"name":"axios-ex","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/ljhsai/axios-ex.git"},"keywords":["xhr","http","ajax","promise","node","cocos-creator"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/ljhsai/axios-ex/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}})},"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.axios=i():o.axios=i(),cc._RF.pop()}).call(this,t("_process"))},{_process:1}],"game.dto":[function(t,e,n){"use strict";cc._RF.push(e,"4ae298uEYVLc7Uqp4b3fr57","game.dto"),Object.defineProperty(n,"__esModule",{value:!0}),n.FinishGameDto=n.StartGameDto=void 0;n.StartGameDto=function(){};n.FinishGameDto=function(){},cc._RF.pop()},{}],"invoice.dto":[function(t,e,n){"use strict";cc._RF.push(e,"c7b79Id7h5CaLMudO9c6Xew","invoice.dto"),Object.defineProperty(n,"__esModule",{value:!0}),n.CreatePremiumInvoiceDto=n.CreateStarsInvoiceDto=void 0;n.CreateStarsInvoiceDto=function(){};n.CreatePremiumInvoiceDto=function(){},cc._RF.pop()},{}],"leaderboard.dto":[function(t,e,n){"use strict";cc._RF.push(e,"2a18e/vDHtNyJVoclYuGW2w","leaderboard.dto"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"dbb3dOdtVNIy6oegel5oA24","polyglot.min"),function(t,o){"function"==typeof define&&define.amd?define([],function(){return o(t)}):"object"==typeof n?e.exports=o(t):t.Polyglot=o(t)}(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||s}function n(t){var e,n,o,i={};for(e in t)if(t.hasOwnProperty(e))for(o in n=t[e])i[n[o]]=e;return i}function o(t){return t.replace(/^\s+|\s+$/g,"")}function i(t,e,n){var i;return null!=n&&t?o((i=t.split(u))[a(e,n)]||i[0]):t}function r(t){var e=n(f);return e[t]||e.en}function a(t,e){return p[r(t)](e)}function c(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function s(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function l(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],e&&(o=e+"."+o),"object"==typeof n?this.extend(n,o):this.phrases[o]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,o;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),o=t),"string"==typeof n&&(e=l(e),o=c(o=i(n,this.currentLocale,e.smart_count),e)),o},e.prototype.has=function(t){return t in this.phrases};var u="||||",p={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},f={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}],"user-transaction.dto":[function(t,e,n){"use strict";cc._RF.push(e,"ee53dWPf45P4rZgNpcUGXP8","user-transaction.dto"),Object.defineProperty(n,"__esModule",{value:!0}),n.CreateUserTransactionDto=void 0;n.CreateUserTransactionDto=function(){},cc._RF.pop()},{}],"user-transactions.const":[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"b8021yhNqRJTLPxqFQ02HwW","user-transactions.const"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserTransactionsType=n.TRANSACTION_AMOUNTS=void 0,function(t){t[t.BUY_SHUFFLE=0]="BUY_SHUFFLE",t[t.BUY_BOMB=1]="BUY_BOMB",t[t.BUY_CHANGE_BLOCK=2]="BUY_CHANGE_BLOCK",t[t.ADD_COINS=3]="ADD_COINS",t[t.BUY_PREMIUM=4]="BUY_PREMIUM"}(i||(i={})),n.UserTransactionsType=i,n.TRANSACTION_AMOUNTS=((o={})[i.BUY_SHUFFLE]=1,o[i.BUY_BOMB]=2,o[i.BUY_CHANGE_BLOCK]=3,o[i.BUY_PREMIUM]=5,o),cc._RF.pop()},{}],"user.dto":[function(t,e,n){"use strict";cc._RF.push(e,"f7f020j8ZZJc4XCEG7LZ5eX","user.dto"),Object.defineProperty(n,"__esModule",{value:!0}),n.GetUserAuthDto=n.UserAuthDto=n.UpdateUserDto=n.CreateUserDto=void 0;n.CreateUserDto=function(){};n.UpdateUserDto=function(){};n.UserAuthDto=function(){};n.GetUserAuthDto=function(){},cc._RF.pop()},{}]},{},["Enum","Index","StaticInstance","Utils","AdsGram","Monetag","ApiClient","ApiClientFactory","ApiErrors","ApiTypes","TestManager","AuthController","TestModel","user-transactions.const","game.dto","invoice.dto","leaderboard.dto","user-transaction.dto","user.dto","Block","BlockReady","Level","Baselayer","ExitLayer","LeaderboardLayer","LoadingLayer","LoseLayer","MainLayer","MenuLayer","MoreLayer","ProfileLayer","SettingLayer","ShopLayer","TasksLayer","WinLayer","ApiManager","AudioManager","DataManager","EffectManager","EventManager","FadeManager","GameManager","LocalizationManager","PoolManager","ResourceManager","SdkManager","ToastManager","UIManager","axios","SizeFitter","UIScrollControl","TelegramMiniApp","DailyTaskItem","LeaderboardItem","AvatarLoader","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);